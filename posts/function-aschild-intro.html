<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="preload" as="font" href="/_next/static/media/25460892714ab800-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/45f5089fd2655ea0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/4de1fea1a954a5b6-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/6d664cce900333ee-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/756f9c755543fe29-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/af8b37939320161a-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/0c908fa25966dff4.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/a3cfeb4927ac63d6.css" data-precedence="next"/><link rel="preload" as="script" href="https://static.cloudflareinsights.com/beacon.min.js"/><title>Function asChild — nsaunders.dev</title><meta name="description" content="The pitfalls of polymorphic components, and how I use a time-tested React design pattern to overcome them"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Function asChild"/><meta property="og:description" content="The pitfalls of polymorphic components, and how I use a time-tested React design pattern to overcome them"/><meta property="og:image:type" content="image/png"/><meta property="og:image" content="https://nsaunders.github.io/posts/function-aschild-intro/opengraph-image?b01462bb4c0f2518"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="627"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><link rel="icon" href="/icon?6881d3941c43d29d" type="image/png" sizes="32x32"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_5e4181" style="box-sizing:border-box;background:var(--bg);color:var(--fg);--bg:var(--gray-900);--fg:var(--white);--fg-muted:var(--gray-500);--fg-bright:var(--gold-200);--fg-success:var(--green-300);--fg-error:var(--red-300);--fg-link:var(--blue-400);--fg-link-bright:var(--blue-300);margin:0"><style>*{--active-0:initial;--active-1: ;--autofill-0:initial;--autofill-1: ;--checked-0:initial;--checked-1: ;--default-0:initial;--default-1: ;--disabled-0:initial;--disabled-1: ;--empty-0:initial;--empty-1: ;--enabled-0:initial;--enabled-1: ;--evenChild-0:initial;--evenChild-1: ;--firstChild-0:initial;--firstChild-1: ;--firstOfType-0:initial;--firstOfType-1: ;--focus-0:initial;--focus-1: ;--focusVisible-0:initial;--focusVisible-1: ;--focusWithin-0:initial;--focusWithin-1: ;--hover-0:initial;--hover-1: ;--inRange-0:initial;--inRange-1: ;--indeterminate-0:initial;--indeterminate-1: ;--invalid-0:initial;--invalid-1: ;--lastChild-0:initial;--lastChild-1: ;--lastOfType-0:initial;--lastOfType-1: ;--oddChild-0:initial;--oddChild-1: ;--onlyChild-0:initial;--onlyChild-1: ;--onlyOfType-0:initial;--onlyOfType-1: ;--outOfRange-0:initial;--outOfRange-1: ;--placeholderShown-0:initial;--placeholderShown-1: ;--readOnly-0:initial;--readOnly-1: ;--readWrite-0:initial;--readWrite-1: ;--required-0:initial;--required-1: ;--target-0:initial;--target-1: ;--valid-0:initial;--valid-1: ;--visited-0:initial;--visited-1: ;}:active{--active-0: ;--active-1:initial;}:autofill{--autofill-0: ;--autofill-1:initial;}:-webkit-autofill{--autofill-0: ;--autofill-1:initial;}:checked{--checked-0: ;--checked-1:initial;}:default{--default-0: ;--default-1:initial;}:disabled{--disabled-0: ;--disabled-1:initial;}:empty{--empty-0: ;--empty-1:initial;}:enabled{--enabled-0: ;--enabled-1:initial;}:nth-child(even){--evenChild-0: ;--evenChild-1:initial;}:first-child{--firstChild-0: ;--firstChild-1:initial;}:first-of-type{--firstOfType-0: ;--firstOfType-1:initial;}:focus{--focus-0: ;--focus-1:initial;}:focus-visible{--focusVisible-0: ;--focusVisible-1:initial;}:focus-within{--focusWithin-0: ;--focusWithin-1:initial;}:hover{--hover-0: ;--hover-1:initial;}:in-range{--inRange-0: ;--inRange-1:initial;}:indeterminate{--indeterminate-0: ;--indeterminate-1:initial;}:invalid{--invalid-0: ;--invalid-1:initial;}:last-child{--lastChild-0: ;--lastChild-1:initial;}:last-of-type{--lastOfType-0: ;--lastOfType-1:initial;}:nth-child(odd){--oddChild-0: ;--oddChild-1:initial;}:only-child{--onlyChild-0: ;--onlyChild-1:initial;}:only-of-type{--onlyOfType-0: ;--onlyOfType-1:initial;}:out-of-range{--outOfRange-0: ;--outOfRange-1:initial;}:placeholder-shown{--placeholderShown-0: ;--placeholderShown-1:initial;}:-moz-placeholder-shown{--placeholderShown-0: ;--placeholderShown-1:initial;}:read-only{--readOnly-0: ;--readOnly-1:initial;}:-moz-read-only{--readOnly-0: ;--readOnly-1:initial;}:read-write{--readWrite-0: ;--readWrite-1:initial;}:-moz-read-write{--readWrite-0: ;--readWrite-1:initial;}:required{--required-0: ;--required-1:initial;}:target{--target-0: ;--target-1:initial;}:valid{--valid-0: ;--valid-1:initial;}:visited{--visited-0: ;--visited-1:initial;}</style><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><header style="width:100%;display:flex;align-items:center;justify-content:space-between;padding:16px calc(24px - (100vw - 100%)) 16px 16px;box-sizing:border-box"><h1 class="__className_87754f" style="text-transform:uppercase;letter-spacing:-0.04em;line-height:1;margin-block:0;margin-inline:0;white-space:nowrap"><a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--blue-100));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset);display:inline-flex" href="/"><span style="display:inline-block;max-width:calc(999px * var(--mobile));overflow:hidden" aria-hidden="true"><img alt="" aria-hidden="true" loading="lazy" width="24" height="24" decoding="async" data-nimg="1" style="color:transparent" src="/icon"/></span><span style="display:inline-block;max-width:calc(999px * var(--desktop));overflow:hidden">Nick Saunders</span></a></h1><div style="display:flex;align-items:center;gap:16px"><a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--blue-100));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="/posts">Blog</a><a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="/projects">Projects</a><a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="/about">About</a><div style="background-color:var(--gray-500);width:1px;height:32px"></div><label style="position:relative;display:inline-flex;align-items:center;background:transparent;color:var(--black);border-radius:999px;padding:4px"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path></svg><input type="checkbox" style="width:0;height:0;opacity:0"/><svg width="16" height="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"></circle><path d="M12 1L12 3"></path><path d="M12 21L12 23"></path><path d="M4.22 4.22L5.64 5.64"></path><path d="M18.36 18.36L19.78 19.78"></path><path d="M1 12L3 12"></path><path d="M21 12L23 12"></path><path d="M4.22 19.78L5.64 18.36"></path><path d="M18.36 5.64L19.78 4.22"></path></svg><div style="position:absolute;width:16px;height:16px;top:4px;background:var(--black);border-radius:999px;left:calc(50% - 8px)"></div></label></div></header><main><div style="box-sizing:border-box;background:var(--bg);color:var(--fg);--bg:var(--gray-800);--fg:var(--white);--fg-muted:var(--gray-400);--fg-bright:var(--gold-200);--fg-success:var(--green-300);--fg-error:var(--red-300);--fg-link:var(--blue-300);--fg-link-bright:var(--blue-200);margin-bottom:16px"><div style="margin:0 auto;width:calc(100vw - (var(--desktop) * 64px + var(--mobile) * 48px) * 2);max-width:832px;box-sizing:border-box;padding:4em 0;position:relative"><div><h1 style="font-size:3em;font-weight:400;line-height:1.25;margin-block:0.5em;margin-block-start:0">Function asChild</h1><h2 style="font-size:2em;font-weight:400;line-height:1.25;margin-block:0.75em"><span style="color:var(--fg-muted)">The pitfalls of polymorphic components, and how I use a time-tested React design pattern to overcome them</span></h2><div style="display:flex;gap:2em;margin-top:3em"><div style="display:inline-flex;gap:8px"><div style="display:grid;place-items:center"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg><span style="position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0">Posted date</span></div><div style="display:grid;place-items:center">Jul 31, 2023</div></div><div style="display:inline-flex;gap:8px"><div style="display:grid;place-items:center"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></div><div style="display:grid;place-items:center">15<!-- --> min read</div></div></div></div></div></div><div style="margin:0 auto;width:calc(100vw - (var(--desktop) * 64px + var(--mobile) * 48px) * 2);max-width:832px;box-sizing:border-box"><div style="line-height:1.5;padding:0.02px"><blockquote style="box-sizing:border-box;background:var(--bg);color:var(--fg);--bg:var(--black);--fg:var(--white);--fg-muted:var(--gray-500);--fg-bright:var(--gold-200);--fg-success:var(--green-300);--fg-error:var(--red-300);--fg-link:var(--blue-400);--fg-link-bright:var(--blue-300);margin-right:0;margin-left:0;padding:0.02px 1em 0.02px 2em;box-shadow:inset 8px 0 0 0 var(--gold-500)">
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em"><em>Everything should be made as simple as possible, but not simpler.</em> —Albert
Einstein</p>
</blockquote>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">As a design system engineer, my primary goal is to deliver a consistent user
experience across a large number of products. Succeeding in this requires
consistent reuse of the components I build. Consistent reuse of these components
requires them to adapt to a wide range of use cases. Otherwise, my clients will
opt out and roll their own components, typically losing important functionality
or design details in the process.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">My most essential technical tool for delivering the required flexibility is the
notion of the <em>polymorphic component</em>. Before jumping into code, allow me to
explain this important concept and why it&#x27;s so useful.</p>
<h2 style="font-size:2.4em;font-weight:400;line-height:1.25;margin-block:0.625em" id="what-are-polymorphic-components" class=" md-heading"><a href="#what-are-polymorphic-components" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>What are polymorphic components?</h2>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">A polymorphic component delivers consistent visual design and functionality in a
context-sensitive manner as follows:</p>
<ol>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">It offers direct control over the rendered markup, allowing developers to
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://developer.mozilla.org/en-US/docs/Learn/Accessibility/HTML">improve accessibility via semantic HTML</a>.</p>
</li>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Its appearance and/or behavior can be combined with those of another
component.</p>
</li>
</ol>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">A <code class="__className_89b63c" style="color:var(--fg-bright)">Button</code> component is the canonical example of component polymorphism: By
default, it just renders a HTML <code class="__className_89b63c" style="color:var(--fg-bright)">&lt;button&gt;</code> element with some fancy styling, but
it can be configured to render an <code class="__className_89b63c" style="color:var(--fg-bright)">&lt;a&gt;</code> element instead (like when a screen
reader should announce it as a link).</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Aside from custom HTML tags, a <code class="__className_89b63c" style="color:var(--fg-bright)">Button</code> might be combined with e.g. a <code class="__className_89b63c" style="color:var(--fg-bright)">Link</code>
component from a routing framework like
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://reactrouter.com/en/main/components/link">React Router</a> or
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://nextjs.org/docs/pages/api-reference/components/link">Next.js</a>—bringing
the visual design of <code class="__className_89b63c" style="color:var(--fg-bright)">Button</code> and the functionality of <code class="__className_89b63c" style="color:var(--fg-bright)">Link</code> together into a
single element.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">In short, the flexible nature of polymorphic components allows a single
implementation to serve a wider range of use cases. This promotes reuse of UI
elements, improving code maintainability while delivering a more cohesive user
experience.</p>
<h2 style="font-size:2.4em;font-weight:400;line-height:1.25;margin-block:0.625em" id="current-approaches" class=" md-heading"><a href="#current-approaches" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Current approaches</h2>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Over the past few years, two approaches for achieving polymorphic components
have been widely circulated and discussed within the React community: the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code>
prop and the <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> prop. Before reinventing the wheel, let&#x27;s take a look at
these.</p>
<h3 style="font-size:2em;font-weight:400;line-height:1.25;margin-block:0.75em" id="the-as-prop" class=" md-heading"><a href="#the-as-prop" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>The <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop</h3>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">The <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop emerged starting around 2018 in popular libraries such as
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://styled-components.com/docs/api#as-polymorphic-prop">Styled Components</a>,
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://mui.com/material-ui/api/button/#props">Material UI</a> (under the
<code class="__className_89b63c" style="color:var(--fg-bright)">component</code> prop name), and
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://chakra-ui.com/community/recipes/as-prop">Chakra UI</a>. Using the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code>
prop, the button-as-link use case described above would be implemented something
like this:</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  Get started
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">For TypeScript users, the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop can be especially interesting because a
typical type definition will guard against invalid prop combinations depending
on the value of the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop. For example, this would not compile since <code class="__className_89b63c" style="color:var(--fg-bright)">href</code>
is not a valid HTML <code class="__className_89b63c" style="color:var(--fg-bright)">&lt;button&gt;</code> attribute:</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  Get started
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">A couple of years ago, the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop was practically synonymous with the term
<em>polymorphic component</em>, and for good reason. It is widely recognized; it&#x27;s easy
to use; and it offers a reasonable degree of type safety, which unfortunately is
not true of its &quot;successor&quot; (more on that later). But, to be fair, it&#x27;s not a
perfect solution.</p>
<h4 style="font-size:1.601em;font-weight:400;line-height:1.25;margin-block:0.9369144284821986em" id="problems-with-the-as-prop" class=" md-heading"><a href="#problems-with-the-as-prop" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Problems with the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop</h4>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Over the last two years, the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop has been challenged as the de-facto
standard for polymorphic components on the following points:</p>
<ol>
<li>Slow TypeScript performance</li>
<li>Poor type inference</li>
<li>Prop collisions</li>
</ol>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">To be honest, I haven&#x27;t experienced the first two issues myself; but I <em>can</em>
relate to the third issue, and it is significant.</p>
<h5 style="font-size:1.2em;font-weight:700;line-height:1.25;margin-block:1.25em" id="prop-collisions" class=" md-heading"><a href="#prop-collisions" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Prop collisions</h5>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Consider two polymorphic components: <code class="__className_89b63c" style="color:var(--fg-bright)">Highlight</code>, which contributes a
configurable background color to an element, and <code class="__className_89b63c" style="color:var(--fg-bright)">Outline</code>, which similarly adds
a colored outline around an element.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em"><img src="https://media.githubusercontent.com/media/nsaunders/writing/master/posts/function-aschild-intro/images/highlight-outline/highlight-outline.png" alt="Highlight and Outline component examples" style="display:block;margin:2em auto;max-width:100%" node="[object Object]"/></p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Highlight</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yellow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Highlight</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Highlight</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Outline</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yellow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Outline</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Outline</span></span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">You can combine the two using the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em"><img src="https://media.githubusercontent.com/media/nsaunders/writing/master/posts/function-aschild-intro/images/highlight-outline/combo-monochrome.png" alt="Highlight and Outline combination" style="display:block;margin:2em auto;max-width:100%" node="[object Object]"/></p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Highlight</span></span> <span class="token attr-name">as</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Outline<span class="token punctuation">}</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yellow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  Highlight + Outline
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Highlight</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">But what if you want a two-tone effect?</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em"><img src="https://media.githubusercontent.com/media/nsaunders/writing/master/posts/function-aschild-intro/images/highlight-outline/combo-two-tone.png" alt="Two-tone effect using the Highlight and Outline components" style="display:block;margin:2em auto;max-width:100%" node="[object Object]"/></p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Highlight</span></span> <span class="token attr-name">as</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Outline<span class="token punctuation">}</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotpink<span class="token punctuation">"</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lightblue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  Highlight + Outline
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Highlight</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Unfortunately, it isn&#x27;t possible to achieve this on the basis of the <code class="__className_89b63c" style="color:var(--fg-bright)">Highlight</code>
and <code class="__className_89b63c" style="color:var(--fg-bright)">Outline</code> components because you can&#x27;t control each component&#x27;s <code class="__className_89b63c" style="color:var(--fg-bright)">color</code> prop
independently. The duplicate <code class="__className_89b63c" style="color:var(--fg-bright)">color</code> prop in the code example simply wouldn&#x27;t
compile.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Now let&#x27;s return for a moment to the monochromatic combination that actually
works.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em"><img src="https://media.githubusercontent.com/media/nsaunders/writing/master/posts/function-aschild-intro/images/highlight-outline/combo-monochrome.png" alt="Highlight and Outline combination" style="display:block;margin:2em auto;max-width:100%" node="[object Object]"/></p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">By default, this renders a generic <code class="__className_89b63c" style="color:var(--fg-bright)">&lt;div&gt;</code> element. But what if you need to
render a <code class="__className_89b63c" style="color:var(--fg-bright)">&lt;button&gt;</code> element instead?</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Highlight</span></span> <span class="token attr-name">as</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Outline<span class="token punctuation">}</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yellow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  Highlight + Outline
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Highlight</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Once again, the duplicate <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop wouldn&#x27;t compile, making it impossible to
combine the two components <em>and</em> control their rendered HTML at the same time.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">In short, the prop collision issue presents two challenges:</p>
<ol>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">If two components share a prop name, that prop can&#x27;t be controlled
independently for each component. (Technically, one of the props hides the
other&#x27;s interface—imagine if they have different types!)</p>
</li>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Composition is limited to two components—unless you need a custom HTML tag,
in which case composition isn&#x27;t possible because the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop is already
used for that purpose.</p>
</li>
</ol>
<h4 style="font-size:1.601em;font-weight:400;line-height:1.25;margin-block:0.9369144284821986em" id="final-thoughts-on-the-as-prop" class=" md-heading"><a href="#final-thoughts-on-the-as-prop" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Final thoughts on the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop</h4>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">For the most part, the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop has served me well; but I&#x27;m concerned about the
potential for clashing props to create defects much more insidious than the one
demonstrated above by the <code class="__className_89b63c" style="color:var(--fg-bright)">color</code> prop. Moreover, I&#x27;m really not happy having to
choose between component composition and semantic markup. Finally, the ability
to compose three or more components together could prove interesting, enabling a
higher degree of reuse than the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop currently allows.</p>
<h3 style="font-size:2em;font-weight:400;line-height:1.25;margin-block:0.75em" id="the-aschild-prop" class=" md-heading"><a href="#the-aschild-prop" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>The <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> prop</h3>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">The <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> prop, popularized by
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://www.radix-ui.com/docs/primitives/guides/composition">Radix</a>, addresses
the issues of the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop by allowing the component&#x27;s child element to
determine how it is rendered. Using <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code>, here is how the button-as-link
use case I introduced earlier would be implemented:</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">asChild</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Get started</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">To the compiler, this just looks like a plain HTML <code class="__className_89b63c" style="color:var(--fg-bright)">&lt;a&gt;</code> element nested as the
child of some <code class="__className_89b63c" style="color:var(--fg-bright)">&lt;Button&gt;</code> element. This one weird trick should make the
TypeScript performance and type inference much more predictable.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">And because <code class="__className_89b63c" style="color:var(--fg-bright)">&lt;Button&gt;</code> and <code class="__className_89b63c" style="color:var(--fg-bright)">&lt;a&gt;</code> are now separate elements, a given prop can be
set explicitly on either one; thus, prop collisions are eliminated.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Problem(s) solved, right?</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Well, yes—but what about the problems <em>created</em>?</p>
<h4 style="font-size:1.601em;font-weight:400;line-height:1.25;margin-block:0.9369144284821986em" id="problems-with-the-aschild-prop" class=" md-heading"><a href="#problems-with-the-aschild-prop" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Problems with the <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> prop</h4>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Earlier, I showed that the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop has one serious composability issue along
with some possible TypeScript-related inconveniences. On the other hand, the
<code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> prop, promoted as the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop successor, is not such an obvious
improvement when considering a few other aspects.</p>
<h5 style="font-size:1.2em;font-weight:700;line-height:1.25;margin-block:1.25em" id="no-contract-between-parent-and-child" class=" md-heading"><a href="#no-contract-between-parent-and-child" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>No contract between parent and child</h5>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">A component implementing the <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> prop accepts any element as &quot;child&quot;,
forwarding props without regard to whether that type of element is designed to
accept them. That means, when implementing the &quot;child&quot; component, you must
consider the private implementation details of the &quot;parent&quot; component—and hope
they don&#x27;t change, since the TypeScript compiler can&#x27;t guarantee compatibility.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">To see the problem firsthand, check out
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://githubbox.com/nsaunders/writing/tree/master/posts/function-aschild-intro/sandboxes/aschild-prop-no-contract">this demo</a>.</p>
<h5 style="font-size:1.2em;font-weight:700;line-height:1.25;margin-block:1.25em" id="invalid-html" class=" md-heading"><a href="#invalid-html" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Invalid HTML</h5>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em"><code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code>&#x27;s prop forwarding scheme can easily produce invalid markup. Look no
further than the button-as-link use case for evidence. Consider what happens
when you disable the button.</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">asChild</span> <span class="token attr-name">disabled</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Get started</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">The resulting HTML would look essentially like the following—with no TypeScript
error to alert you that the <code class="__className_89b63c" style="color:var(--fg-bright)">disabled</code> prop
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes">is not compatible</a>
with an <code class="__className_89b63c" style="color:var(--fg-bright)">&lt;a&gt;</code> element.</p>
<pre><div style="color:var(--fg-bright)" class="language-html __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token punctuation">></span></span>Get started<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">On the other hand, each of the following <em>would</em> result in a type error as
expected.</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token punctuation">></span></span><span class="token plain-text">
    Get started
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token punctuation">></span></span><span class="token plain-text">
    Get started
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">To compare for yourself, have a look at
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://githubbox.com/nsaunders/writing/tree/master/posts/function-aschild-intro/sandboxes/aschild-prop-invalid-html">this demo</a>.</p>
<h5 style="font-size:1.2em;font-weight:700;line-height:1.25;margin-block:1.25em" id="no-control-over-prop-forwarding" class=" md-heading"><a href="#no-control-over-prop-forwarding" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>No control over prop forwarding</h5>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em"><code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> assumes a straightforward 1-to-1 mapping between the props forwarded
from the &quot;parent&quot; and the props accepted by the &quot;child&quot;. But, as the previous
example shows, that may be a bit too optimistic.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">A reasonable implementation for a &quot;disabled&quot; <code class="__className_89b63c" style="color:var(--fg-bright)">&lt;a&gt;</code> element might look something
like this:</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span>
  <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>disabled<span class="token punctuation">"</span></span>
  <span class="token attr-name">aria-disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>e <span class="token operator">=></span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  Get started
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">In the button-as-link context, the <code class="__className_89b63c" style="color:var(--fg-bright)">disabled</code> prop forwarded from the <code class="__className_89b63c" style="color:var(--fg-bright)">Button</code>
&quot;parent&quot; would be reflected in three distinct &quot;child&quot; props: <code class="__className_89b63c" style="color:var(--fg-bright)">className</code>,
<code class="__className_89b63c" style="color:var(--fg-bright)">aria-disabled</code>, and <code class="__className_89b63c" style="color:var(--fg-bright)">onClick</code>. Because <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> hides its prop forwarding
logic, it isn&#x27;t possible to achieve this—instead, you&#x27;ll be stuck with that
invalid <code class="__className_89b63c" style="color:var(--fg-bright)">disabled</code> attribute in the resulting HTML, as discussed earlier.</p>
<h5 style="font-size:1.2em;font-weight:700;line-height:1.25;margin-block:1.25em" id="contraindicated-use-of-cloneelement" class=" md-heading"><a href="#contraindicated-use-of-cloneelement" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Contraindicated use of <code class="__className_89b63c" style="color:var(--fg-bright)">cloneElement</code></h5>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">The implementation of the <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> prop (Radix&#x27;s
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://github.com/radix-ui/primitives/blob/eca6babd188df465f64f23f3584738b85dba610e/packages/react/slot/src/Slot.tsx#L64-L67"><code class="__className_89b63c" style="color:var(--fg-bright)">Slot</code> component</a>),
utilizes the <code class="__className_89b63c" style="color:var(--fg-bright)">cloneElement</code> function. However, the
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://react.dev/reference/react/cloneElement">React documentation</a> warns that
&quot;using <code class="__className_89b63c" style="color:var(--fg-bright)">cloneElement</code> is uncommon and can lead to fragile code&quot; while &quot;[making]
it hard to tell how the data flows through your app&quot;. It continues on to
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://react.dev/reference/react/cloneElement#alternatives">recommend the render prop as a &quot;more explicit&quot; alternative</a>
where &quot;you can clearly trace&quot; the props.</p>
<h4 style="font-size:1.601em;font-weight:400;line-height:1.25;margin-block:0.9369144284821986em" id="final-thoughts-on-the-aschild-prop" class=" md-heading"><a href="#final-thoughts-on-the-aschild-prop" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Final thoughts on the <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> prop</h4>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Over the years, I&#x27;ve used many technologies that initially appeared to make
things easier but eventually taught me that they were merely hiding complexity,
rather than eliminating it. Unfortunately, the <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> prop seems to fit that
profile.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">It solves the problems of the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop by pretending that one element is
actually two. The type checker has no knowledge of <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code>&#x27;s implicit magic
and is powerless to prevent the &quot;parent&quot; component from injecting any number of
props into the &quot;child&quot; element, whether compatible or not.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">The side effects of this design might include tight coupling between &quot;parent&quot;
and &quot;child&quot; components, whose implementation details must line up without
compiler help; invalid HTML; and incomplete functionality, particularly in the
case of a &quot;child&quot; component whose code you don&#x27;t control (e.g. a third-party
<code class="__className_89b63c" style="color:var(--fg-bright)">Link</code> component). Moreover, the React docs warn that <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code>&#x27;s use of
<code class="__className_89b63c" style="color:var(--fg-bright)">cloneElement</code> &quot;makes it harder to trace the data flow&quot;.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">To its credit, the <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> prop has raised awareness about some issues with
the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop, and it <em>has</em>, technically, solved those issues. It has also
reminded us that the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> prop isn&#x27;t the only way to do polymorphic components.</p>
<h2 style="font-size:2.4em;font-weight:400;line-height:1.25;margin-block:0.625em" id="introducing-function-aschild" class=" md-heading"><a href="#introducing-function-aschild" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Introducing <em>Function asChild</em></h2>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">After realizing the many pitfalls of the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> and <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> props, I began the
search for a safer and more flexible approach to polymorphic components. I&#x27;m
happy to report that, rather than inventing something new, I discovered an
approach that builds upon an established React pattern dating back to at least
2016, a <a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://www.patterns.dev/posts/render-props-pattern">render prop</a>
variant known as
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://www.merrickchristensen.com/articles/function-as-child-components/">Function as Child Component</a>.</p>
<h3 style="font-size:2em;font-weight:400;line-height:1.25;margin-block:0.75em" id="a-quick-preview" class=" md-heading"><a href="#a-quick-preview" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>A quick preview</h3>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Before we dive into the implementation, I&#x27;d like to offer a glimpse of what
<em>Function asChild</em> looks like from a &quot;client code&quot; perspective. Let&#x27;s return to
the polymorphic <code class="__className_89b63c" style="color:var(--fg-bright)">Button</code> once again.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">By default, the <code class="__className_89b63c" style="color:var(--fg-bright)">Button</code> component provides the same interface as the HTML
<code class="__className_89b63c" style="color:var(--fg-bright)">button</code> tag, enhanced with any additional props, e.g. a <code class="__className_89b63c" style="color:var(--fg-bright)">variant</code>.</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">form</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loginForm<span class="token punctuation">"</span></span> <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  Submit
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">When you want to render a different type of element, you pass a render function
as child.</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> disabled<span class="token punctuation">,</span> style<span class="token punctuation">,</span> <span class="token operator">...</span>restProps <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span>
    <span class="token function">exhausted</span><span class="token punctuation">(</span>restProps<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
        <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span>
        <span class="token attr-name">aria-disabled</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>disabled<span class="token punctuation">}</span></span>
        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>e <span class="token operator">=></span> <span class="token punctuation">{</span>
          disabled <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
          <span class="token operator">...</span>style<span class="token punctuation">,</span>
          <span class="token operator">...</span><span class="token punctuation">(</span>disabled <span class="token operator">?</span> <span class="token punctuation">{</span> opacity<span class="token operator">:</span> <span class="token number">0.5</span> <span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        Get started
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">If you squint a little bit, you might recognize that this JSX structure actually
resembles its <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> &quot;equivalent&quot;. However, since the child is a render
function rather than an element, this solution avoids implicit magic, doesn&#x27;t
break the type checker, and produces valid HTML.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">If you&#x27;ve seen render props before, you might have a pretty good idea of what&#x27;s
going on here. But it&#x27;s easy to miss some essential details of this approach
without walking through its implementation and usage. So, with that, let&#x27;s get
started.</p>
<h3 style="font-size:2em;font-weight:400;line-height:1.25;margin-block:0.75em" id="polymorphic-component-implementation" class=" md-heading"><a href="#polymorphic-component-implementation" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Polymorphic component implementation</h3>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">The first step is to define the interface between the <code class="__className_89b63c" style="color:var(--fg-bright)">Button</code> component and the
render function. I usually refer to this as the <em>forward props</em>. For a simple
component whose scope is limited to visual styling, often this will consist of a
single <code class="__className_89b63c" style="color:var(--fg-bright)">style</code> or <code class="__className_89b63c" style="color:var(--fg-bright)">className</code> prop.</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">ButtonForwardProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  className<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Next, let&#x27;s define the <code class="__className_89b63c" style="color:var(--fg-bright)">Button</code> props. The union type forces the client code to
choose between the default HTML <code class="__className_89b63c" style="color:var(--fg-bright)">button</code> tag interface and the Function asChild
interface. The <code class="__className_89b63c" style="color:var(--fg-bright)">variant</code> prop is available in either case.</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token keyword">import</span> <span class="token punctuation">{</span> ComponentProps<span class="token punctuation">,</span> ReactElement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">U</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"ts-toolbelt"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">ButtonProps</span> <span class="token operator">=</span> <span class="token constant">U</span><span class="token punctuation">.</span>Strict<span class="token operator">&lt;</span>
  <span class="token punctuation">(</span>
    <span class="token operator">|</span> ComponentProps<span class="token operator">&lt;</span><span class="token string">"button"</span><span class="token operator">></span>
    <span class="token operator">|</span> <span class="token punctuation">{</span> <span class="token function-variable function">children</span><span class="token operator">:</span> <span class="token punctuation">(</span>forwardProps<span class="token operator">:</span> ForwardProps<span class="token punctuation">)</span> <span class="token operator">=></span> ReactElement <span class="token punctuation">}</span>
  <span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span>
    variant<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">"primary"</span> <span class="token operator">|</span> <span class="token string">"secondary"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">></span><span class="token punctuation">;</span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">After defining the prop types, the next step is to set up the <code class="__className_89b63c" style="color:var(--fg-bright)">Button</code> as a
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://react.dev/reference/react/forwardRef">ref-forwarding</a> function
component. The ref forwarding is useful for the default case of a HTML
<code class="__className_89b63c" style="color:var(--fg-bright)">&lt;button&gt;</code>.</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token keyword">import</span> <span class="token punctuation">{</span> ComponentType<span class="token punctuation">,</span> forwardRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">O</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"ts-toolbelt"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Button <span class="token operator">=</span> <span class="token generic-function"><span class="token function">forwardRef</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLButtonElement<span class="token punctuation">,</span> <span class="token constant">O</span><span class="token punctuation">.</span>Omit<span class="token operator">&lt;</span>ButtonProps<span class="token punctuation">,</span> <span class="token string">"ref"</span><span class="token operator">>></span></span></span><span class="token punctuation">(</span>
  <span class="token keyword">function</span> <span class="token function">Button</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span> children<span class="token punctuation">,</span> className <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> variant <span class="token operator">=</span> <span class="token string">"secondary"</span><span class="token punctuation">,</span> <span class="token operator">...</span>restProps <span class="token punctuation">}</span><span class="token punctuation">,</span>
    ref<span class="token punctuation">,</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// TODO</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token keyword">as</span> ComponentType<span class="token operator">&lt;</span>ButtonProps<span class="token operator">></span><span class="token punctuation">;</span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">The implementation begins with the <code class="__className_89b63c" style="color:var(--fg-bright)">forwardProps</code> object, which will include a
dynamic <code class="__className_89b63c" style="color:var(--fg-bright)">className</code> based on the incoming <code class="__className_89b63c" style="color:var(--fg-bright)">variant</code> prop value.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Then, it checks whether <code class="__className_89b63c" style="color:var(--fg-bright)">children</code> is a render function:</p>
<ol>
<li>If <code class="__className_89b63c" style="color:var(--fg-bright)">children</code> is indeed a render function, it calls that function and passes
the <code class="__className_89b63c" style="color:var(--fg-bright)">forwardProps</code> as an argument. The result of the render function is then
returned.</li>
<li>If <code class="__className_89b63c" style="color:var(--fg-bright)">children</code> is not a render function, that means it contains the content of
the button. In this case, the implementation returns a <code class="__className_89b63c" style="color:var(--fg-bright)">&lt;button&gt;</code> element. It
spreads the <code class="__className_89b63c" style="color:var(--fg-bright)">forwardProps</code> first, followed by the <code class="__className_89b63c" style="color:var(--fg-bright)">restProps</code> (any HTML
button props that might have been provided). Finally, it ensures that the
<code class="__className_89b63c" style="color:var(--fg-bright)">ref</code> and <code class="__className_89b63c" style="color:var(--fg-bright)">children</code> are forwarded properly.</li>
</ol>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token keyword">import</span> <span class="token punctuation">{</span> ComponentType<span class="token punctuation">,</span> forwardRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">O</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"ts-toolbelt"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Button <span class="token operator">=</span> <span class="token generic-function"><span class="token function">forwardRef</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLButtonElement<span class="token punctuation">,</span> <span class="token constant">O</span><span class="token punctuation">.</span>Omit<span class="token operator">&lt;</span>ButtonProps<span class="token punctuation">,</span> <span class="token string">"ref"</span><span class="token operator">>></span></span></span><span class="token punctuation">(</span>
  <span class="token keyword">function</span> <span class="token function">Button</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span> children<span class="token punctuation">,</span> className <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> variant <span class="token operator">=</span> <span class="token string">"secondary"</span><span class="token punctuation">,</span> <span class="token operator">...</span>restProps <span class="token punctuation">}</span><span class="token punctuation">,</span>
    ref<span class="token punctuation">,</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> forwardProps<span class="token operator">:</span> ButtonForwardProps <span class="token operator">=</span> <span class="token punctuation">{</span>
      className<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">button button-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>variant<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>className<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">typeof</span> children <span class="token operator">===</span> <span class="token string">"function"</span> <span class="token operator">?</span> <span class="token punctuation">(</span>
      <span class="token function">children</span><span class="token punctuation">(</span>forwardProps<span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>forwardProps<span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>restProps<span class="token punctuation">}</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token keyword">as</span> ComponentType<span class="token operator">&lt;</span>ButtonProps<span class="token operator">></span><span class="token punctuation">;</span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">That&#x27;s all it takes to implement the polymorphic <code class="__className_89b63c" style="color:var(--fg-bright)">Button</code> component!</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Due to a quirk of TypeScript, however, how you <em>use</em> the component can make a
significant difference in terms of type safety. So, to learn how to use it in
the most effective way, read on.</p>
<h3 style="font-size:2em;font-weight:400;line-height:1.25;margin-block:0.75em" id="polymorphic-component-usage" class=" md-heading"><a href="#polymorphic-component-usage" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Polymorphic component usage</h3>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">At this point, we actually have a working polymorphic component. And here is how
most people (myself included) would be inclined to use it:</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>props <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      Get started
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Unfortunately, TypeScript doesn&#x27;t work as expected sometimes, and the prop
spread is one such case. Due to a long-standing
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://github.com/Microsoft/TypeScript/issues/29883">issue</a>, excess props
don&#x27;t produce a compiler error.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">You won&#x27;t love the workaround, but hopefully you&#x27;ll appreciate its effectiveness
in preventing prop forwarding mistakes.</p>
<h4 style="font-size:1.601em;font-weight:400;line-height:1.25;margin-block:0.9369144284821986em" id="avoiding-the-spread" class=" md-heading"><a href="#avoiding-the-spread" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Avoiding the spread</h4>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">When in doubt, the best way to cope with the prop spread&#x27;s unsound nature is to
avoid it entirely. That means fully destructuring the props and forwarding them
individually.</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> className <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>className<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      Get started
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">But even this has its pitfalls:</p>
<ol>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em"><strong>Forgotten props</strong>: It&#x27;s easy to forget to destructure some of the props.
Even if you account for all of them initially, additional props could be
added to the <code class="__className_89b63c" style="color:var(--fg-bright)">ButtonForwardProps</code> interface in the future.</p>
</li>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em"><strong>Unused props</strong>: Similarly, it&#x27;s easy to forget to actually forward some of
the props, even if you remembered to destructure them.</p>
</li>
</ol>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Fortunately, each of these problems has a solution.</p>
<h4 style="font-size:1.601em;font-weight:400;line-height:1.25;margin-block:0.9369144284821986em" id="exhaustiveness-check" class=" md-heading"><a href="#exhaustiveness-check" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Exhaustiveness check</h4>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Let&#x27;s make a a small change by adding <code class="__className_89b63c" style="color:var(--fg-bright)">...restProps</code> to the prop-destructuring
expression.</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> className<span class="token punctuation">,</span> <span class="token operator">...</span>restProps <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>className<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      Get started
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">If you&#x27;ve destructured all of the props as intended, <code class="__className_89b63c" style="color:var(--fg-bright)">restProps</code> will be an
empty object, i.e. <code class="__className_89b63c" style="color:var(--fg-bright)">{}</code>. You can assert this with the <code class="__className_89b63c" style="color:var(--fg-bright)">exhausted</code> function,
which produces a TypeScript error when called with a non-empty object.</p>
<pre><div style="color:var(--fg-bright)" class="language-tsx __className_89b63c"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> className<span class="token punctuation">,</span> <span class="token operator">...</span>restProps <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">exhausted</span><span class="token punctuation">(</span>restProps<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://react.dev<span class="token punctuation">"</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>className<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      Get started
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>

<span class="token comment">// Keep this somewhere like a `util.ts` module.</span>
<span class="token keyword">function</span> <span class="token function">exhausted</span><span class="token punctuation">(</span>x<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</div></pre>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">For example, here&#x27;s what happens if you forget about the <code class="__className_89b63c" style="color:var(--fg-bright)">className</code> prop:</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em"><img src="https://media.githubusercontent.com/media/nsaunders/writing/master/posts/function-aschild-intro/images/editor-help/not-exhausted.png" alt="A TypeScript error surfaced when the props are not fully destructured" style="display:block;margin:2em auto;max-width:100%" node="[object Object]"/></p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">As I mentioned earlier, it&#x27;s still possible to destructure a prop and forget to
forward it. Next, I&#x27;ll show you an additional measure to prevent this common
mistake.</p>
<h4 style="font-size:1.601em;font-weight:400;line-height:1.25;margin-block:0.9369144284821986em" id="unused-prop-check" class=" md-heading"><a href="#unused-prop-check" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Unused prop check</h4>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">In general, all of the props passed to a render function should actually be used
in some way; otherwise, aspects of the component&#x27;s appearance or behavior might
be lost. Since the <code class="__className_89b63c" style="color:var(--fg-bright)">exhausted</code> function already guarantees that the props object
is fully destructured, all that&#x27;s left is to ensure that none of these props are
unused.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">For this, I simply recommend the ESLint rule
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://typescript-eslint.io/rules/no-unused-vars/"><code class="__className_89b63c" style="color:var(--fg-bright)">@typescript-eslint/no-unused-vars</code></a>.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">With this rule enabled, here&#x27;s what happens if you forget to forward the
<code class="__className_89b63c" style="color:var(--fg-bright)">className</code> prop:</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em"><img src="https://media.githubusercontent.com/media/nsaunders/writing/master/posts/function-aschild-intro/images/editor-help/unused-prop.png" alt="An ESLint error showing that one of the props is unused" style="display:block;margin:2em auto;max-width:100%" node="[object Object]"/></p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">If you aren&#x27;t already using ESLint, see
<a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://typescript-eslint.io/getting-started">typescript-eslint&#x27;s Getting Started guide</a>
for more information on how to configure your project.</p>
<h3 style="font-size:2em;font-weight:400;line-height:1.25;margin-block:0.75em" id="interactive-demos" class=" md-heading"><a href="#interactive-demos" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Interactive demos</h3>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">I invite you to experience Function asChild through a couple of code demos I&#x27;ve
prepared:</p>
<ul>
<li><a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://githubbox.com/nsaunders/writing/tree/master/posts/function-aschild-intro/sandboxes/function-aschild-button">Polymorphic <code class="__className_89b63c" style="color:var(--fg-bright)">Button</code></a></li>
<li><a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://githubbox.com/nsaunders/writing/tree/master/posts/function-aschild-intro/sandboxes/function-aschild-composition">Multiple-component composition</a></li>
</ul>
<h3 style="font-size:2em;font-weight:400;line-height:1.25;margin-block:0.75em" id="reviewing-the-solution" class=" md-heading"><a href="#reviewing-the-solution" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Reviewing the solution</h3>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Now that you&#x27;ve seen how to implement and use the Function asChild approach for
polymorphic components, let&#x27;s consider its relative advantages:</p>
<ol>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Predictable TypeScript performance and type inference</p>
</li>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Prop collision avoidance</p>
</li>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">High degree of type safety</p>
</li>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Transparent prop forwarding scheme that you control</p>
</li>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Valid HTML output</p>
</li>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Ability to compose three or more components</p>
</li>
<li>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Loose coupling between components</p>
</li>
</ol>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Compared to the <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> and <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> props, Function asChild offers a more
flexible and far safer approach to polymorphic components.</p>
<h2 style="font-size:2.4em;font-weight:400;line-height:1.25;margin-block:0.625em" id="wrapping-up" class=" md-heading"><a href="#wrapping-up" class="md-heading__anchor"><div class="md-heading__anchor-icon"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a>Wrapping up</h2>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">Polymorphic components are extremely useful and, unfortunately, more complicated
than I once realized. The <code class="__className_89b63c" style="color:var(--fg-bright)">as</code> and <code class="__className_89b63c" style="color:var(--fg-bright)">asChild</code> props, each in their own way, try
to make polymorphic components simpler than they actually are, and this is where
their problems begin.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">On the other hand, Function asChild hides nothing from you. It prioritizes
thoroughness and precision; while hopefully becoming more convenient in the
future as the TypeScript team improves type checking for prop spreads.</p>
<p style="line-height:1.5;margin-block-start:1.5em;margin-block-end:1.5em">For now, selecting the right approach comes down to &quot;convenience&quot; versus
<em>correctness</em>. If you&#x27;ve made it this far, I know you&#x27;ll choose wisely.</p></div><div style="display:flex;gap:0.5em"><a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://twitter.com/search?q=https%3A%2F%2Fnsaunders.github.io%2Fposts%2Ffunction-aschild-intro">Discuss this post</a><span style="color:var(--fg-muted)">|</span><a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://github.com/nsaunders/writing/edit/master/posts/function-aschild-intro/index.md">Suggest an edit</a></div></div><div style="margin:0 auto;width:calc(100vw - (var(--desktop) * 64px + var(--mobile) * 48px) * 2);max-width:832px;box-sizing:border-box;margin-top:4em"><section style="box-sizing:border-box;background:var(--bg);color:var(--fg);--bg:var(--gray-200);--fg:var(--black);--fg-muted:var(--gray-500);--fg-bright:var(--gold-500);--fg-success:var(--green-600);--fg-error:var(--red-600);--fg-link:var(--blue-400);--fg-link-bright:var(--blue-300);gap:1em;display:grid;grid-template-columns:repeat(auto-fill, minmax(300px, 2fr))"><div style="box-sizing:border-box;background:var(--bg);color:var(--fg);--bg:var(--gray-200);--fg:var(--black);--fg-muted:var(--gray-500);--fg-bright:var(--gold-500);--fg-success:var(--green-600);--fg-error:var(--red-600);--fg-link:var(--blue-400);--fg-link-bright:var(--blue-300);padding:3em"><h1 style="font-size:2em;font-weight:700;line-height:1.25;margin-block:0">Stay informed</h1><p style="font-size:1.601em;font-weight:400;line-height:1.25;margin-block:0.9369144284821986em">Subscribe to email updates and be the first to know when I post new content.</p><p style="font-size:1rem;font-weight:400;line-height:1.25;margin-block:0"><span style="color:var(--fg-muted)">I hate spam as much as you do.<br/>Unsubscribe at any time<!-- -->—<!-- -->no hard feelings!</span></p></div><form style="display:inline-flex;flex-direction:column;gap:0.5em;padding:2em;box-sizing:border-box;background:var(--bg);color:var(--fg);--bg:var(--gray-800);--fg:var(--white);--fg-muted:var(--gray-400);--fg-bright:var(--gold-200);--fg-success:var(--green-300);--fg-error:var(--red-300);--fg-link:var(--blue-300);--fg-link-bright:var(--blue-200)"><label style="display:contents"><span style="font-size:1em;font-weight:700;line-height:1.25;margin-block:0">First name</span><div style="margin:0;display:inline-flex;border-radius:0.25em;outline-color:transparent;outline-width:2px;outline-style:dotted"><input style="appearance:none;outline:0;border:0;margin:0;padding:0.5em 0.75em;border-radius:0.25em;width:100%;cursor:default;box-sizing:border-box;background:var(--bg);color:var(--fg);--bg:var(--static-white);--fg:var(--static-black);--fg-muted:var(--static-gray-400);--fg-bright:var(--static-gold-400);--fg-success:var(--static-green-600);--fg-error:var(--static-red-600);--fg-link:var(--static-blue-400);--fg-link-bright:var(--static-blue-300);font-size:1rem;font-weight:400;line-height:1.25;margin-block:0" value=""/></div><span style="color:var(--fg-error)">​</span></label><div></div><label style="display:contents"><span style="font-size:1em;font-weight:700;line-height:1.25;margin-block:0">Email address</span><div style="margin:0;display:inline-flex;border-radius:0.25em;outline-color:transparent;outline-width:2px;outline-style:dotted"><input style="appearance:none;outline:0;border:0;margin:0;padding:0.5em 0.75em;border-radius:0.25em;width:100%;cursor:default;box-sizing:border-box;background:var(--bg);color:var(--fg);--bg:var(--static-white);--fg:var(--static-black);--fg-muted:var(--static-gray-400);--fg-bright:var(--static-gold-400);--fg-success:var(--static-green-600);--fg-error:var(--static-red-600);--fg-link:var(--static-blue-400);--fg-link-bright:var(--static-blue-300);font-size:1rem;font-weight:400;line-height:1.25;margin-block:0" value=""/></div><span style="color:var(--fg-error)">​</span></label><div></div><button class="detect-active " style="appearance:none;outline:none;margin:0;padding:0.5em 0.75em;border:0;border-radius:0.25em;background:var(--static-blue-700);color:var(--static-white);cursor:default;outline-color:transparent;outline-width:2px;outline-style:dotted;font-size:1rem;font-weight:400;line-height:1.25;margin-block:0;align-self:center" type="submit">Subscribe</button><div></div><span style="color:var(--fg-muted);text-align:center">​<br/>​</span></form></section></div></main><footer style="box-sizing:border-box;background:var(--bg);color:var(--fg);--bg:var(--black);--fg:var(--white);--fg-muted:var(--gray-500);--fg-bright:var(--gold-200);--fg-success:var(--green-300);--fg-error:var(--red-300);--fg-link:var(--blue-400);--fg-link-bright:var(--blue-300);margin-top:4em;padding:1em"><div style="display:flex;gap:16px"><a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://twitter.com/agilecoder">Twitter</a><a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://github.com/nsaunders">GitHub</a><a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://linkedin.com/in/nicksaunders">LinkedIn</a><div style="flex:1"></div><a style="text-decoration:var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none));outline-color:transparent;outline-width:2px;outline-style:dotted;color:var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link));border-radius:2px;box-shadow:var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)" href="https://nsaunders.dev/rss.xml">RSS</a></div></footer><script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;ad77aeb014e549369c7c560c90f545c2&quot;}"></script><script src="/_next/static/chunks/webpack-c8f1237214620829.js" async=""></script><script src="/_next/static/chunks/bce60fc1-296895d5f3477fb4.js" async=""></script><script src="/_next/static/chunks/769-900de88789c933cd.js" async=""></script><script src="/_next/static/chunks/main-app-2c8c46423ba83eee.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/25460892714ab800-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/45f5089fd2655ea0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/media/4de1fea1a954a5b6-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/media/6d664cce900333ee-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n5:HL[\"/_next/static/media/756f9c755543fe29-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/css/0c908fa25966dff4.css\",{\"as\":\"style\"}]\n0:\"$L"])</script><script>self.__next_f.push([1,"7\"\n"])</script><script>self.__next_f.push([1,"8:HL[\"/_next/static/media/af8b37939320161a-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n9:HL[\"/_next/static/css/a3cfeb4927ac63d6.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"a:I{\"id\":\"8802\",\"chunks\":[\"272:static/chunks/webpack-c8f1237214620829.js\",\"253:static/chunks/bce60fc1-296895d5f3477fb4.js\",\"769:static/chunks/769-900de88789c933cd.js\"],\"name\":\"\",\"async\":false}\nc:I{\"id\":\"4299\",\"chunks\":[\"272:static/chunks/webpack-c8f1237214620829.js\",\"253:static/chunks/bce60fc1-296895d5f3477fb4.js\",\"769:static/chunks/769-900de88789c933cd.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":\"8150\",\"chunks\":[\"127:static/chunks/127-5bf9a02de7058e81.js\",\"962:static/chunks/962-f81d897972bc7c6d.js\",\"185:static/"])</script><script>self.__next_f.push([1,"chunks/app/layout-eb2503422b0b32f8.js\"],\"name\":\"Providers\",\"async\":false}\ne:I{\"id\":\"1918\",\"chunks\":[\"127:static/chunks/127-5bf9a02de7058e81.js\",\"962:static/chunks/962-f81d897972bc7c6d.js\",\"185:static/chunks/app/layout-eb2503422b0b32f8.js\"],\"name\":\"\",\"async\":false}\n10:I{\"id\":\"3211\",\"chunks\":[\"272:static/chunks/webpack-c8f1237214620829.js\",\"253:static/chunks/bce60fc1-296895d5f3477fb4.js\",\"769:static/chunks/769-900de88789c933cd.js\"],\"name\":\"\",\"async\":false}\n11:I{\"id\":\"5767\",\"chunks\":[\"272:static/chunks/webpack"])</script><script>self.__next_f.push([1,"-c8f1237214620829.js\",\"253:static/chunks/bce60fc1-296895d5f3477fb4.js\",\"769:static/chunks/769-900de88789c933cd.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"7:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/0c908fa25966dff4.css\",\"precedence\":\"next\"}]],[\"$\",\"$La\",null,{\"buildId\":\"lDDYdGktGYgv-t6kCFHoM\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/function-aschild-intro\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"name\",\"function-aschild-intro\",\"d\"],{\"children\":[\"__PAGE__?{\\\"name\\\":\\\"function-aschild-intro\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$Lb\",[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\"}]],\"globalErrorComponent\":\"$c\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__className_5e4181\",\"style\":{\"boxSizing\":\"border-box\",\"background\":\"var(--bg)\",\"color\":\"var(--fg)\",\"--bg\":\"var(--gray-900)\",\"--fg\":\"var(--white)\",\"--fg-muted\":\"var(--gray-500)\",\"--fg-bright\":\"var(--gold-200)\",\"--fg-success\":\"var(--green-300)\",\"--fg-error\":\"var(--red-300)\",\"--fg-link\":\"var(--blue-400)\",\"--fg-link-bright\":\"var(--blue-300)\",\"margin\":0},\"children\":[[\"$\",\"style\",null,{\"children\":\"*{--active-0:initial;--active-1: ;--autofill-0:initial;--autofill-1: ;--checked-0:initial;--checked-1: ;--default-0:initial;--default-1: ;--disabled-0:initial;--disabled-1: ;--empty-0:initial;--empty-1: ;--enabled-0:initial;--enabled-1: ;--evenChild-0:initial;--evenChild-1: ;--firstChild-0:initial;--firstChild-1: ;--firstOfType-0:initial;--firstOfType-1: ;--focus-0:initial;--focus-1: ;--focusVisible-0:initial;--focusVisible-1: ;--focusWithin-0:initial;--focusWithin-1: ;--hover-0:initial;--hover-1: ;--inRange-0:initial;--inRange-1: ;--indeterminate-0:initial;--indeterminate-1: ;--invalid-0:initial;--invalid-1: ;--lastChild-0:initial;--lastChild-1: ;--lastOfType-0:initial;--lastOfType-1: ;--oddChild-0:initial;--oddChild-1: ;--onlyChild-0:initial;--onlyChild-1: ;--onlyOfType-0:initial;--onlyOfType-1: ;--outOfRange-0:initial;--outOfRange-1: ;--placeholderShown-0:initial;--placeholderShown-1: ;--readOnly-0:initial;--readOnly-1: ;--readWrite-0:initial;--readWrite-1: ;--required-0:initial;--required-1: ;--target-0:initial;--target-1: ;--valid-0:initial;--valid-1: ;--visited-0:initial;--visited-1: ;}:active{--active-0: ;--active-1:initial;}:autofill{--autofill-0: ;--autofill-1:initial;}:-webkit-autofill{--autofill-0: ;--autofill-1:initial;}:checked{--checked-0: ;--checked-1:initial;}:default{--default-0: ;--default-1:initial;}:disabled{--disabled-0: ;--disabled-1:initial;}:empty{--empty-0: ;--empty-1:initial;}:enabled{--enabled-0: ;--enabled-1:initial;}:nth-child(even){--evenChild-0: ;--evenChild-1:initial;}:first-child{--firstChild-0: ;--firstChild-1:initial;}:first-of-type{--firstOfType-0: ;--firstOfType-1:initial;}:focus{--focus-0: ;--focus-1:initial;}:focus-visible{--focusVisible-0: ;--focusVisible-1:initial;}:focus-within{--focusWithin-0: ;--focusWithin-1:initial;}:hover{--hover-0: ;--hover-1:initial;}:in-range{--inRange-0: ;--inRange-1:initial;}:indeterminate{--indeterminate-0: ;--indeterminate-1:initial;}:invalid{--invalid-0: ;--invalid-1:initial;}:last-child{--lastChild-0: ;--lastChild-1:initial;}:last-of-type{--lastOfType-0: ;--lastOfType-1:initial;}:nth-child(odd){--oddChild-0: ;--oddChild-1:initial;}:only-child{--onlyChild-0: ;--onlyChild-1:initial;}:only-of-type{--onlyOfType-0: ;--onlyOfType-1:initial;}:out-of-range{--outOfRange-0: ;--outOfRange-1:initial;}:placeholder-shown{--placeholderShown-0: ;--placeholderShown-1:initial;}:-moz-placeholder-shown{--placeholderShown-0: ;--placeholderShown-1:initial;}:read-only{--readOnly-0: ;--readOnly-1:initial;}:-moz-read-only{--readOnly-0: ;--readOnly-1:initial;}:read-write{--readWrite-0: ;--readWrite-1:initial;}:-moz-read-write{--readWrite-0: ;--readWrite-1:initial;}:required{--required-0: ;--required-1:initial;}:target{--target-0: ;--target-1:initial;}:valid{--valid-0: ;--valid-1:initial;}:visited{--visited-0: ;--visited-1:initial;}\"}],[\"$\",\"$Ld\",null,{\"children\":[[\"$\",\"$Le\",null,{}],[\"$Lf\",\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],[\"$\",\"footer\",null,{\"style\":{\"boxSizing\":\"border-box\",\"background\":\"var(--bg)\",\"color\":\"var(--fg)\",\"--bg\":\"var(--black)\",\"--fg\":\"var(--white)\",\"--fg-muted\":\"var(--gray-500)\",\"--fg-bright\":\"var(--gold-200)\",\"--fg-success\":\"var(--green-300)\",\"--fg-error\":\"var(--red-300)\",\"--fg-link\":\"var(--blue-400)\",\"--fg-link-bright\":\"var(--blue-300)\",\"marginTop\":\"4em\",\"padding\":\"1em\"},\"children\":[\"$\",\"div\",null,{\"style\":{\"display\":\"flex\",\"gap\":16},\"children\":[[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://twitter.com/agilecoder\",\"children\":\"Twitter\"}],[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://github.com/nsaunders\",\"children\":\"GitHub\"}],[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://linkedin.com/in/nicksaunders\",\"children\":\"LinkedIn\"}],[\"$\",\"div\",null,{\"style\":{\"flex\":1}}],[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://nsaunders.dev/rss.xml\",\"children\":\"RSS\"}]]}]}]]}],[\"$\",\"script\",null,{\"defer\":true,\"src\":\"https://static.cloudflareinsights.com/beacon.min.js\",\"data-cf-beacon\":\"{\\\"token\\\": \\\"ad77aeb014e549369c7c560c90f545c2\\\"}\"}]]}]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__className_5e4181\",\"style\":{\"boxSizing\":\"border-box\",\"background\":\"var(--bg)\",\"color\":\"var(--fg)\",\"--bg\":\"var(--gray-900)\",\"--fg\":\"var(--white)\",\"--fg-muted\":\"var(--gray-500)\",\"--fg-bright\":\"var(--gold-200)\",\"--fg-success\":\"var(--green-300)\",\"--fg-error\":\"var(--red-300)\",\"--fg-link\":\"var(--blue-400)\",\"--fg-link-bright\":\"var(--blue-300)\",\"margin\":0},\"children\":[[\"$\",\"style\",null,{\"children\":\"*{--active-0:initial;--active-1: ;--autofill-0:initial;--autofill-1: ;--checked-0:initial;--checked-1: ;--default-0:initial;--default-1: ;--disabled-0:initial;--disabled-1: ;--empty-0:initial;--empty-1: ;--enabled-0:initial;--enabled-1: ;--evenChild-0:initial;--evenChild-1: ;--firstChild-0:initial;--firstChild-1: ;--firstOfType-0:initial;--firstOfType-1: ;--focus-0:initial;--focus-1: ;--focusVisible-0:initial;--focusVisible-1: ;--focusWithin-0:initial;--focusWithin-1: ;--hover-0:initial;--hover-1: ;--inRange-0:initial;--inRange-1: ;--indeterminate-0:initial;--indeterminate-1: ;--invalid-0:initial;--invalid-1: ;--lastChild-0:initial;--lastChild-1: ;--lastOfType-0:initial;--lastOfType-1: ;--oddChild-0:initial;--oddChild-1: ;--onlyChild-0:initial;--onlyChild-1: ;--onlyOfType-0:initial;--onlyOfType-1: ;--outOfRange-0:initial;--outOfRange-1: ;--placeholderShown-0:initial;--placeholderShown-1: ;--readOnly-0:initial;--readOnly-1: ;--readWrite-0:initial;--readWrite-1: ;--required-0:initial;--required-1: ;--target-0:initial;--target-1: ;--valid-0:initial;--valid-1: ;--visited-0:initial;--visited-1: ;}:active{--active-0: ;--active-1:initial;}:autofill{--autofill-0: ;--autofill-1:initial;}:-webkit-autofill{--autofill-0: ;--autofill-1:initial;}:checked{--checked-0: ;--checked-1:initial;}:default{--default-0: ;--default-1:initial;}:disabled{--disabled-0: ;--disabled-1:initial;}:empty{--empty-0: ;--empty-1:initial;}:enabled{--enabled-0: ;--enabled-1:initial;}:nth-child(even){--evenChild-0: ;--evenChild-1:initial;}:first-child{--firstChild-0: ;--firstChild-1:initial;}:first-of-type{--firstOfType-0: ;--firstOfType-1:initial;}:focus{--focus-0: ;--focus-1:initial;}:focus-visible{--focusVisible-0: ;--focusVisible-1:initial;}:focus-within{--focusWithin-0: ;--focusWithin-1:initial;}:hover{--hover-0: ;--hover-1:initial;}:in-range{--inRange-0: ;--inRange-1:initial;}:indeterminate{--indeterminate-0: ;--indeterminate-1:initial;}:invalid{--invalid-0: ;--invalid-1:initial;}:last-child{--lastChild-0: ;--lastChild-1:initial;}:last-of-type{--lastOfType-0: ;--lastOfType-1:initial;}:nth-child(odd){--oddChild-0: ;--oddChild-1:initial;}:only-child{--onlyChild-0: ;--onlyChild-1:initial;}:only-of-type{--onlyOfType-0: ;--onlyOfType-1:initial;}:out-of-range{--outOfRange-0: ;--outOfRange-1:initial;}:placeholder-shown{--placeholderShown-0: ;--placeholderShown-1:initial;}:-moz-placeholder-shown{--placeholderShown-0: ;--placeholderShown-1:initial;}:read-only{--readOnly-0: ;--readOnly-1:initial;}:-moz-read-only{--readOnly-0: ;--readOnly-1:initial;}:read-write{--readWrite-0: ;--readWrite-1:initial;}:-moz-read-write{--readWrite-0: ;--readWrite-1:initial;}:required{--required-0: ;--required-1:initial;}:target{--target-0: ;--target-1:initial;}:valid{--valid-0: ;--valid-1:initial;}:visited{--visited-0: ;--visited-1:initial;}\"}],[\"$\",\"$Ld\",null,{\"children\":[[\"$\",\"$Le\",null,{}],[\"$\",\"$L10\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L11\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L10\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L11\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L10\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"name\",\"function-aschild-intro\",\"d\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L11\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$L12\",null],\"segment\":\"__PAGE__?{\\\"name\\\":\\\"function-aschild-intro\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/a3cfeb4927ac63d6.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"name\",\"function-aschild-intro\",\"d\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}],[\"$\",\"footer\",null,{\"style\":{\"boxSizing\":\"border-box\",\"background\":\"var(--bg)\",\"color\":\"var(--fg)\",\"--bg\":\"var(--black)\",\"--fg\":\"var(--white)\",\"--fg-muted\":\"var(--gray-500)\",\"--fg-bright\":\"var(--gold-200)\",\"--fg-success\":\"var(--green-300)\",\"--fg-error\":\"var(--red-300)\",\"--fg-link\":\"var(--blue-400)\",\"--fg-link-bright\":\"var(--blue-300)\",\"marginTop\":\"4em\",\"padding\":\"1em\"},\"children\":[\"$\",\"div\",null,{\"style\":{\"display\":\"flex\",\"gap\":16},\"children\":[[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://twitter.com/agilecoder\",\"children\":\"Twitter\"}],[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://github.com/nsaunders\",\"children\":\"GitHub\"}],[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://linkedin.com/in/nicksaunders\",\"children\":\"LinkedIn\"}],[\"$\",\"div\",null,{\"style\":{\"flex\":1}}],[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://nsaunders.dev/rss.xml\",\"children\":\"RSS\"}]]}]}]]}],[\"$\",\"script\",null,{\"defer\":true,\"src\":\"https://static.cloudflareinsights.com/beacon.min.js\",\"data-cf-beacon\":\"{\\\"token\\\": \\\"ad77aeb014e549369c7c560c90f545c2\\\"}\"}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"13:I{\"id\":\"7749\",\"chunks\":[\"372:static/chunks/372-3c2324b78e44cced.js\",\"512:static/chunks/app/posts/[name]/page-8b12c41f35c8fa0e.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"12:[\"$\",\"main\",null,{\"children\":[[[\"$\",\"div\",null,{\"style\":{\"boxSizing\":\"border-box\",\"background\":\"var(--bg)\",\"color\":\"var(--fg)\",\"--bg\":\"var(--gray-800)\",\"--fg\":\"var(--white)\",\"--fg-muted\":\"var(--gray-400)\",\"--fg-bright\":\"var(--gold-200)\",\"--fg-success\":\"var(--green-300)\",\"--fg-error\":\"var(--red-300)\",\"--fg-link\":\"var(--blue-300)\",\"--fg-link-bright\":\"var(--blue-200)\",\"marginBottom\":16},\"children\":[\"$\",\"div\",null,{\"style\":{\"margin\":\"0 auto\",\"width\":\"calc(100vw - (var(--desktop) * 64px + var(--mobile) * 48px) * 2)\",\"maxWidth\":832,\"boxSizing\":\"border-box\",\"padding\":\"4em 0\",\"position\":\"relative\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"h1\",null,{\"style\":{\"fontSize\":\"3em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.5em\",\"marginBlockStart\":0},\"children\":\"Function asChild\"}],[\"$\",\"h2\",null,{\"style\":{\"fontSize\":\"2em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.75em\"},\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"var(--fg-muted)\"},\"children\":\"The pitfalls of polymorphic components, and how I use a time-tested React design pattern to overcome them\"}]}],[\"$\",\"div\",null,{\"style\":{\"display\":\"flex\",\"gap\":\"2em\",\"marginTop\":\"3em\"},\"children\":[[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-flex\",\"gap\":8},\"children\":[[\"$\",\"div\",null,{\"style\":{\"display\":\"grid\",\"placeItems\":\"center\"},\"children\":[[\"$\",\"svg\",null,{\"width\":16,\"height\":16,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":true,\"children\":[[\"$\",\"rect\",null,{\"x\":\"3\",\"y\":\"4\",\"width\":\"18\",\"height\":\"18\",\"rx\":\"2\",\"ry\":\"2\"}],[\"$\",\"line\",null,{\"x1\":\"16\",\"y1\":\"2\",\"x2\":\"16\",\"y2\":\"6\"}],[\"$\",\"line\",null,{\"x1\":\"8\",\"y1\":\"2\",\"x2\":\"8\",\"y2\":\"6\"}],[\"$\",\"line\",null,{\"x1\":\"3\",\"y1\":\"10\",\"x2\":\"21\",\"y2\":\"10\"}]]}],[\"$\",\"span\",null,{\"style\":{\"position\":\"absolute\",\"width\":1,\"height\":1,\"padding\":0,\"margin\":-1,\"overflow\":\"hidden\",\"clip\":\"rect(0, 0, 0, 0)\",\"border\":0},\"children\":\"Posted date\"}]]}],[\"$\",\"div\",null,{\"style\":{\"display\":\"grid\",\"placeItems\":\"center\"},\"children\":\"Jul 31, 2023\"}]]}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-flex\",\"gap\":8},\"children\":[[\"$\",\"div\",null,{\"style\":{\"display\":\"grid\",\"placeItems\":\"center\"},\"children\":[\"$\",\"svg\",null,{\"width\":16,\"height\":16,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":true,\"children\":[[\"$\",\"circle\",null,{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\"}],[\"$\",\"polyline\",null,{\"points\":\"12 6 12 12 16 14\"}]]}]}],[\"$\",\"div\",null,{\"style\":{\"display\":\"grid\",\"placeItems\":\"center\"},\"children\":[\"15\",\" min read\"]}]]}]]}]]}]}]}],[\"$\",\"div\",null,{\"style\":{\"margin\":\"0 auto\",\"width\":\"calc(100vw - (var(--desktop) * 64px + var(--mobile) * 48px) * 2)\",\"maxWidth\":832,\"boxSizing\":\"border-box\"},\"children\":[[\"$\",\"div\",null,{\"style\":{\"lineHeight\":1.5,\"padding\":0.02},\"children\":[[\"$\",\"blockquote\",null,{\"style\":{\"boxSizing\":\"border-box\",\"background\":\"var(--bg)\",\"color\":\"var(--fg)\",\"--bg\":\"var(--black)\",\"--fg\":\"var(--white)\",\"--fg-muted\":\"var(--gray-500)\",\"--fg-bright\":\"var(--gold-200)\",\"--fg-success\":\"var(--green-300)\",\"--fg-error\":\"var(--red-300)\",\"--fg-link\":\"var(--blue-400)\",\"--fg-link-bright\":\"var(--blue-300)\",\"marginRight\":0,\"marginLeft\":0,\"padding\":\"0.02px 1em 0.02px 2em\",\"boxShadow\":\"inset 8px 0 0 0 var(--gold-500)\"},\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[[\"$\",\"em\",\"0\",{\"children\":[\"Everything should be made as simple as possible, but not simpler.\"]}],\" —Albert\\nEinstein\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"As a design system engineer, my primary goal is to deliver a consistent user\\nexperience across a large number of products. Succeeding in this requires\\nconsistent reuse of the components I build. Consistent reuse of these components\\nrequires them to adapt to a wide range of use cases. Otherwise, my clients will\\nopt out and roll their own components, typically losing important functionality\\nor design details in the process.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"My most essential technical tool for delivering the required flexibility is the\\nnotion of the \",[\"$\",\"em\",\"1\",{\"children\":[\"polymorphic component\"]}],\". Before jumping into code, allow me to\\nexplain this important concept and why it's so useful.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"style\":{\"fontSize\":\"2.4em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.625em\"},\"id\":\"what-are-polymorphic-components\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#what-are-polymorphic-components\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"What are polymorphic components?\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"A polymorphic component delivers consistent visual design and functionality in a\\ncontext-sensitive manner as follows:\"]}],\"\\n\",[\"$\",\"ol\",\"10\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"It offers direct control over the rendered markup, allowing developers to\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://developer.mozilla.org/en-US/docs/Learn/Accessibility/HTML\",\"children\":[\"improve accessibility via semantic HTML\"]}],\".\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Its appearance and/or behavior can be combined with those of another\\ncomponent.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"A \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Button\"]}],\" component is the canonical example of component polymorphism: By\\ndefault, it just renders a HTML \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003cbutton\u003e\"]}],\" element with some fancy styling, but\\nit can be configured to render an \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003ca\u003e\"]}],\" element instead (like when a screen\\nreader should announce it as a link).\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Aside from custom HTML tags, a \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Button\"]}],\" might be combined with e.g. a \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Link\"]}],\"\\ncomponent from a routing framework like\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://reactrouter.com/en/main/components/link\",\"children\":[\"React Router\"]}],\" or\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://nextjs.org/docs/pages/api-reference/components/link\",\"children\":[\"Next.js\"]}],\"—bringing\\nthe visual design of \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Button\"]}],\" and the functionality of \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Link\"]}],\" together into a\\nsingle element.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"In short, the flexible nature of polymorphic components allows a single\\nimplementation to serve a wider range of use cases. This promotes reuse of UI\\nelements, improving code maintainability while delivering a more cohesive user\\nexperience.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"style\":{\"fontSize\":\"2.4em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.625em\"},\"id\":\"current-approaches\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#current-approaches\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Current approaches\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Over the past few years, two approaches for achieving polymorphic components\\nhave been widely circulated and discussed within the React community: the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\"\\nprop and the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" prop. Before reinventing the wheel, let's take a look at\\nthese.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"style\":{\"fontSize\":\"2em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.75em\"},\"id\":\"the-as-prop\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#the-as-prop\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"The \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"The \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop emerged starting around 2018 in popular libraries such as\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://styled-components.com/docs/api#as-polymorphic-prop\",\"children\":[\"Styled Components\"]}],\",\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://mui.com/material-ui/api/button/#props\",\"children\":[\"Material UI\"]}],\" (under the\\n\",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"component\"]}],\" prop name), and\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://chakra-ui.com/community/recipes/as-prop\",\"children\":[\"Chakra UI\"]}],\". Using the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\"\\nprop, the button-as-link use case described above would be implemented something\\nlike this:\"]}],\"\\n\",[\"$\",\"pre\",\"26\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eas\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ea\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  Get started\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"For TypeScript users, the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop can be especially interesting because a\\ntypical type definition will guard against invalid prop combinations depending\\non the value of the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop. For example, this would not compile since \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"href\"]}],\"\\nis not a valid HTML \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003cbutton\u003e\"]}],\" attribute:\"]}],\"\\n\",[\"$\",\"pre\",\"30\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eas\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ebutton\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  Get started\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"A couple of years ago, the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop was practically synonymous with the term\\n\",[\"$\",\"em\",\"3\",{\"children\":[\"polymorphic component\"]}],\", and for good reason. It is widely recognized; it's easy\\nto use; and it offers a reasonable degree of type safety, which unfortunately is\\nnot true of its \\\"successor\\\" (more on that later). But, to be fair, it's not a\\nperfect solution.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"style\":{\"fontSize\":\"1.601em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.9369144284821986em\"},\"id\":\"problems-with-the-as-prop\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#problems-with-the-as-prop\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Problems with the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Over the last two years, the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop has been challenged as the de-facto\\nstandard for polymorphic components on the following points:\"]}],\"\\n\",[\"$\",\"ol\",\"38\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":[\"Slow TypeScript performance\"]}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":[\"Poor type inference\"]}],\"\\n\",[\"$\",\"li\",\"5\",{\"children\":[\"Prop collisions\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"To be honest, I haven't experienced the first two issues myself; but I \",[\"$\",\"em\",\"1\",{\"children\":[\"can\"]}],\"\\nrelate to the third issue, and it is significant.\"]}],\"\\n\",[\"$\",\"h5\",null,{\"style\":{\"fontSize\":\"1.2em\",\"fontWeight\":700,\"lineHeight\":1.25,\"marginBlock\":\"1.25em\"},\"id\":\"prop-collisions\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#prop-collisions\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Prop collisions\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Consider two polymorphic components: \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Highlight\"]}],\", which contributes a\\nconfigurable background color to an element, and \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Outline\"]}],\", which similarly adds\\na colored outline around an element.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[[\"$\",\"img\",null,{\"src\":\"https://media.githubusercontent.com/media/nsaunders/writing/master/posts/function-aschild-intro/images/highlight-outline/highlight-outline.png\",\"alt\":\"Highlight and Outline component examples\",\"style\":{\"display\":\"block\",\"margin\":\"2em auto\",\"maxWidth\":\"100%\"},\"node\":{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"src\":\"images/highlight-outline/highlight-outline.png\",\"alt\":\"Highlight and Outline component examples\"},\"children\":[],\"position\":{\"start\":{\"line\":102,\"column\":1,\"offset\":4105},\"end\":{\"line\":102,\"column\":92,\"offset\":4196}}}}]]}],\"\\n\",[\"$\",\"pre\",\"48\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eHighlight\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ecolor\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003eyellow\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003eHighlight\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eHighlight\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eOutline\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ecolor\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003eyellow\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003eOutline\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eOutline\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"You can combine the two using the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[[\"$\",\"img\",null,{\"src\":\"https://media.githubusercontent.com/media/nsaunders/writing/master/posts/function-aschild-intro/images/highlight-outline/combo-monochrome.png\",\"alt\":\"Highlight and Outline combination\",\"style\":{\"display\":\"block\",\"margin\":\"2em auto\",\"maxWidth\":\"100%\"},\"node\":{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"src\":\"images/highlight-outline/combo-monochrome.png\",\"alt\":\"Highlight and Outline combination\"},\"children\":[],\"position\":{\"start\":{\"line\":113,\"column\":1,\"offset\":4357},\"end\":{\"line\":113,\"column\":84,\"offset\":4440}}}}]]}],\"\\n\",[\"$\",\"pre\",\"54\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eHighlight\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eas\u003c/span\u003e\u003cspan class=\\\"token script language-javascript\\\"\u003e\u003cspan class=\\\"token script-punctuation punctuation\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003eOutline\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ecolor\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003eyellow\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  Highlight + Outline\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eHighlight\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"But what if you want a two-tone effect?\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[[\"$\",\"img\",null,{\"src\":\"https://media.githubusercontent.com/media/nsaunders/writing/master/posts/function-aschild-intro/images/highlight-outline/combo-two-tone.png\",\"alt\":\"Two-tone effect using the Highlight and Outline components\",\"style\":{\"display\":\"block\",\"margin\":\"2em auto\",\"maxWidth\":\"100%\"},\"node\":{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"src\":\"images/highlight-outline/combo-two-tone.png\",\"alt\":\"Two-tone effect using the Highlight and Outline components\"},\"children\":[],\"position\":{\"start\":{\"line\":123,\"column\":1,\"offset\":4570},\"end\":{\"line\":123,\"column\":107,\"offset\":4676}}}}]]}],\"\\n\",[\"$\",\"pre\",\"60\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eHighlight\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eas\u003c/span\u003e\u003cspan class=\\\"token script language-javascript\\\"\u003e\u003cspan class=\\\"token script-punctuation punctuation\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003eOutline\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ecolor\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehotpink\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ecolor\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003elightblue\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  Highlight + Outline\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eHighlight\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Unfortunately, it isn't possible to achieve this on the basis of the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Highlight\"]}],\"\\nand \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Outline\"]}],\" components because you can't control each component's \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"color\"]}],\" prop\\nindependently. The duplicate \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"color\"]}],\" prop in the code example simply wouldn't\\ncompile.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Now let's return for a moment to the monochromatic combination that actually\\nworks.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[[\"$\",\"img\",null,{\"src\":\"https://media.githubusercontent.com/media/nsaunders/writing/master/posts/function-aschild-intro/images/highlight-outline/combo-monochrome.png\",\"alt\":\"Highlight and Outline combination\",\"style\":{\"display\":\"block\",\"margin\":\"2em auto\",\"maxWidth\":\"100%\"},\"node\":{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"src\":\"images/highlight-outline/combo-monochrome.png\",\"alt\":\"Highlight and Outline combination\"},\"children\":[],\"position\":{\"start\":{\"line\":139,\"column\":1,\"offset\":5119},\"end\":{\"line\":139,\"column\":84,\"offset\":5202}}}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"By default, this renders a generic \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003cdiv\u003e\"]}],\" element. But what if you need to\\nrender a \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003cbutton\u003e\"]}],\" element instead?\"]}],\"\\n\",[\"$\",\"pre\",\"70\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eHighlight\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eas\u003c/span\u003e\u003cspan class=\\\"token script language-javascript\\\"\u003e\u003cspan class=\\\"token script-punctuation punctuation\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003eOutline\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eas\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ebutton\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ecolor\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003eyellow\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  Highlight + Outline\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eHighlight\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Once again, the duplicate \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop wouldn't compile, making it impossible to\\ncombine the two components \",[\"$\",\"em\",\"3\",{\"children\":[\"and\"]}],\" control their rendered HTML at the same time.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"In short, the prop collision issue presents two challenges:\"]}],\"\\n\",[\"$\",\"ol\",\"76\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"If two components share a prop name, that prop can't be controlled\\nindependently for each component. (Technically, one of the props hides the\\nother's interface—imagine if they have different types!)\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Composition is limited to two components—unless you need a custom HTML tag,\\nin which case composition isn't possible because the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop is already\\nused for that purpose.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",null,{\"style\":{\"fontSize\":\"1.601em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.9369144284821986em\"},\"id\":\"final-thoughts-on-the-as-prop\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#final-thoughts-on-the-as-prop\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Final thoughts on the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"For the most part, the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop has served me well; but I'm concerned about the\\npotential for clashing props to create defects much more insidious than the one\\ndemonstrated above by the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"color\"]}],\" prop. Moreover, I'm really not happy having to\\nchoose between component composition and semantic markup. Finally, the ability\\nto compose three or more components together could prove interesting, enabling a\\nhigher degree of reuse than the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop currently allows.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"style\":{\"fontSize\":\"2em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.75em\"},\"id\":\"the-aschild-prop\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#the-aschild-prop\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"The \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" prop\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"The \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" prop, popularized by\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://www.radix-ui.com/docs/primitives/guides/composition\",\"children\":[\"Radix\"]}],\", addresses\\nthe issues of the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop by allowing the component's child element to\\ndetermine how it is rendered. Using \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\", here is how the button-as-link\\nuse case I introduced earlier would be implemented:\"]}],\"\\n\",[\"$\",\"pre\",\"86\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003easChild\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003eGet started\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"To the compiler, this just looks like a plain HTML \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003ca\u003e\"]}],\" element nested as the\\nchild of some \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003cButton\u003e\"]}],\" element. This one weird trick should make the\\nTypeScript performance and type inference much more predictable.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"And because \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003cButton\u003e\"]}],\" and \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003ca\u003e\"]}],\" are now separate elements, a given prop can be\\nset explicitly on either one; thus, prop collisions are eliminated.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Problem(s) solved, right?\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Well, yes—but what about the problems \",[\"$\",\"em\",\"1\",{\"children\":[\"created\"]}],\"?\"]}],\"\\n\",[\"$\",\"h4\",null,{\"style\":{\"fontSize\":\"1.601em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.9369144284821986em\"},\"id\":\"problems-with-the-aschild-prop\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#problems-with-the-aschild-prop\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Problems with the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" prop\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Earlier, I showed that the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop has one serious composability issue along\\nwith some possible TypeScript-related inconveniences. On the other hand, the\\n\",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" prop, promoted as the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop successor, is not such an obvious\\nimprovement when considering a few other aspects.\"]}],\"\\n\",[\"$\",\"h5\",null,{\"style\":{\"fontSize\":\"1.2em\",\"fontWeight\":700,\"lineHeight\":1.25,\"marginBlock\":\"1.25em\"},\"id\":\"no-contract-between-parent-and-child\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#no-contract-between-parent-and-child\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"No contract between parent and child\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"A component implementing the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" prop accepts any element as \\\"child\\\",\\nforwarding props without regard to whether that type of element is designed to\\naccept them. That means, when implementing the \\\"child\\\" component, you must\\nconsider the private implementation details of the \\\"parent\\\" component—and hope\\nthey don't change, since the TypeScript compiler can't guarantee compatibility.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"To see the problem firsthand, check out\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://githubbox.com/nsaunders/writing/tree/master/posts/function-aschild-intro/sandboxes/aschild-prop-no-contract\",\"children\":[\"this demo\"]}],\".\"]}],\"\\n\",[\"$\",\"h5\",null,{\"style\":{\"fontSize\":\"1.2em\",\"fontWeight\":700,\"lineHeight\":1.25,\"marginBlock\":\"1.25em\"},\"id\":\"invalid-html\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#invalid-html\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Invalid HTML\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\"'s prop forwarding scheme can easily produce invalid markup. Look no\\nfurther than the button-as-link use case for evidence. Consider what happens\\nwhen you disable the button.\"]}],\"\\n\",[\"$\",\"pre\",\"110\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003easChild\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003edisabled\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003eGet started\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"The resulting HTML would look essentially like the following—with no TypeScript\\nerror to alert you that the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"disabled\"]}],\" prop\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\",\"children\":[\"is not compatible\"]}],\"\\nwith an \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003ca\u003e\"]}],\" element.\"]}],\"\\n\",[\"$\",\"pre\",\"114\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-html __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003edisabled\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003eGet started\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"On the other hand, each of the following \",[\"$\",\"em\",\"1\",{\"children\":[\"would\"]}],\" result in a type error as\\nexpected.\"]}],\"\\n\",[\"$\",\"pre\",\"118\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003edisabled\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n    Get started\\n  \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eas\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ea\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003edisabled\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n    Get started\\n  \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"To compare for yourself, have a look at\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://githubbox.com/nsaunders/writing/tree/master/posts/function-aschild-intro/sandboxes/aschild-prop-invalid-html\",\"children\":[\"this demo\"]}],\".\"]}],\"\\n\",[\"$\",\"h5\",null,{\"style\":{\"fontSize\":\"1.2em\",\"fontWeight\":700,\"lineHeight\":1.25,\"marginBlock\":\"1.25em\"},\"id\":\"no-control-over-prop-forwarding\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#no-control-over-prop-forwarding\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"No control over prop forwarding\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" assumes a straightforward 1-to-1 mapping between the props forwarded\\nfrom the \\\"parent\\\" and the props accepted by the \\\"child\\\". But, as the previous\\nexample shows, that may be a bit too optimistic.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"A reasonable implementation for a \\\"disabled\\\" \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003ca\u003e\"]}],\" element might look something\\nlike this:\"]}],\"\\n\",[\"$\",\"pre\",\"128\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003ea\u003c/span\u003e\\n  \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\\n  \u003cspan class=\\\"token attr-name\\\"\u003eclassName\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003edisabled\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\\n  \u003cspan class=\\\"token attr-name\\\"\u003earia-disabled\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etrue\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\\n  \u003cspan class=\\\"token attr-name\\\"\u003eonClick\u003c/span\u003e\u003cspan class=\\\"token script language-javascript\\\"\u003e\u003cspan class=\\\"token script-punctuation punctuation\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003ee \u003cspan class=\\\"token operator\\\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n    e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token function\\\"\u003epreventDefault\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  Get started\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"In the button-as-link context, the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"disabled\"]}],\" prop forwarded from the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Button\"]}],\"\\n\\\"parent\\\" would be reflected in three distinct \\\"child\\\" props: \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"className\"]}],\",\\n\",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"aria-disabled\"]}],\", and \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"onClick\"]}],\". Because \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" hides its prop forwarding\\nlogic, it isn't possible to achieve this—instead, you'll be stuck with that\\ninvalid \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"disabled\"]}],\" attribute in the resulting HTML, as discussed earlier.\"]}],\"\\n\",[\"$\",\"h5\",null,{\"style\":{\"fontSize\":\"1.2em\",\"fontWeight\":700,\"lineHeight\":1.25,\"marginBlock\":\"1.25em\"},\"id\":\"contraindicated-use-of-cloneelement\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#contraindicated-use-of-cloneelement\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Contraindicated use of \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"cloneElement\"]}]]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"The implementation of the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" prop (Radix's\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://github.com/radix-ui/primitives/blob/eca6babd188df465f64f23f3584738b85dba610e/packages/react/slot/src/Slot.tsx#L64-L67\",\"children\":[[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Slot\"]}],\" component\"]}],\"),\\nutilizes the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"cloneElement\"]}],\" function. However, the\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://react.dev/reference/react/cloneElement\",\"children\":[\"React documentation\"]}],\" warns that\\n\\\"using \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"cloneElement\"]}],\" is uncommon and can lead to fragile code\\\" while \\\"[making]\\nit hard to tell how the data flows through your app\\\". It continues on to\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://react.dev/reference/react/cloneElement#alternatives\",\"children\":[\"recommend the render prop as a \\\"more explicit\\\" alternative\"]}],\"\\nwhere \\\"you can clearly trace\\\" the props.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"style\":{\"fontSize\":\"1.601em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.9369144284821986em\"},\"id\":\"final-thoughts-on-the-aschild-prop\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#final-thoughts-on-the-aschild-prop\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Final thoughts on the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" prop\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Over the years, I've used many technologies that initially appeared to make\\nthings easier but eventually taught me that they were merely hiding complexity,\\nrather than eliminating it. Unfortunately, the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" prop seems to fit that\\nprofile.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"It solves the problems of the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop by pretending that one element is\\nactually two. The type checker has no knowledge of \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\"'s implicit magic\\nand is powerless to prevent the \\\"parent\\\" component from injecting any number of\\nprops into the \\\"child\\\" element, whether compatible or not.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"The side effects of this design might include tight coupling between \\\"parent\\\"\\nand \\\"child\\\" components, whose implementation details must line up without\\ncompiler help; invalid HTML; and incomplete functionality, particularly in the\\ncase of a \\\"child\\\" component whose code you don't control (e.g. a third-party\\n\",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Link\"]}],\" component). Moreover, the React docs warn that \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\"'s use of\\n\",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"cloneElement\"]}],\" \\\"makes it harder to trace the data flow\\\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"To its credit, the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" prop has raised awareness about some issues with\\nthe \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop, and it \",[\"$\",\"em\",\"5\",{\"children\":[\"has\"]}],\", technically, solved those issues. It has also\\nreminded us that the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" prop isn't the only way to do polymorphic components.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"style\":{\"fontSize\":\"2.4em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.625em\"},\"id\":\"introducing-function-aschild\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#introducing-function-aschild\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Introducing \",[\"$\",\"em\",\"1\",{\"children\":[\"Function asChild\"]}]]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"After realizing the many pitfalls of the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" and \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" props, I began the\\nsearch for a safer and more flexible approach to polymorphic components. I'm\\nhappy to report that, rather than inventing something new, I discovered an\\napproach that builds upon an established React pattern dating back to at least\\n2016, a \",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://www.patterns.dev/posts/render-props-pattern\",\"children\":[\"render prop\"]}],\"\\nvariant known as\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://www.merrickchristensen.com/articles/function-as-child-components/\",\"children\":[\"Function as Child Component\"]}],\".\"]}],\"\\n\",[\"$\",\"h3\",null,{\"style\":{\"fontSize\":\"2em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.75em\"},\"id\":\"a-quick-preview\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#a-quick-preview\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"A quick preview\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Before we dive into the implementation, I'd like to offer a glimpse of what\\n\",[\"$\",\"em\",\"1\",{\"children\":[\"Function asChild\"]}],\" looks like from a \\\"client code\\\" perspective. Let's return to\\nthe polymorphic \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Button\"]}],\" once again.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"By default, the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Button\"]}],\" component provides the same interface as the HTML\\n\",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"button\"]}],\" tag, enhanced with any additional props, e.g. a \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"variant\"]}],\".\"]}],\"\\n\",[\"$\",\"pre\",\"156\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003etype\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003esubmit\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eform\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003eloginForm\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003evariant\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003eprimary\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  Submit\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"When you want to render a different type of element, you pass a render function\\nas child.\"]}],\"\\n\",[\"$\",\"pre\",\"160\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003evariant\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003eprimary\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  \u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e disabled\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e style\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e...\u003c/span\u003erestProps \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003e\u003c/span\u003e\\n    \u003cspan class=\\\"token function\\\"\u003eexhausted\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003erestProps\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\\n      \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003ea\u003c/span\u003e\\n        \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\\n        \u003cspan class=\\\"token attr-name\\\"\u003earia-disabled\u003c/span\u003e\u003cspan class=\\\"token script language-javascript\\\"\u003e\u003cspan class=\\\"token script-punctuation punctuation\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003edisabled\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n        \u003cspan class=\\\"token attr-name\\\"\u003eonClick\u003c/span\u003e\u003cspan class=\\\"token script language-javascript\\\"\u003e\u003cspan class=\\\"token script-punctuation punctuation\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003ee \u003cspan class=\\\"token operator\\\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n          disabled \u003cspan class=\\\"token operator\\\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token function\\\"\u003estopPropagation\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n        \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n        \u003cspan class=\\\"token attr-name\\\"\u003estyle\u003c/span\u003e\u003cspan class=\\\"token script language-javascript\\\"\u003e\u003cspan class=\\\"token script-punctuation punctuation\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n          \u003cspan class=\\\"token operator\\\"\u003e...\u003c/span\u003estyle\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n          \u003cspan class=\\\"token operator\\\"\u003e...\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003edisabled \u003cspan class=\\\"token operator\\\"\u003e?\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e opacity\u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e0.5\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003eundefined\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n        \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n        Get started\\n      \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n    \u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"If you squint a little bit, you might recognize that this JSX structure actually\\nresembles its \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" \\\"equivalent\\\". However, since the child is a render\\nfunction rather than an element, this solution avoids implicit magic, doesn't\\nbreak the type checker, and produces valid HTML.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"If you've seen render props before, you might have a pretty good idea of what's\\ngoing on here. But it's easy to miss some essential details of this approach\\nwithout walking through its implementation and usage. So, with that, let's get\\nstarted.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"style\":{\"fontSize\":\"2em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.75em\"},\"id\":\"polymorphic-component-implementation\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#polymorphic-component-implementation\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Polymorphic component implementation\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"The first step is to define the interface between the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Button\"]}],\" component and the\\nrender function. I usually refer to this as the \",[\"$\",\"em\",\"3\",{\"children\":[\"forward props\"]}],\". For a simple\\ncomponent whose scope is limited to visual styling, often this will consist of a\\nsingle \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"style\"]}],\" or \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"className\"]}],\" prop.\"]}],\"\\n\",[\"$\",\"pre\",\"170\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token keyword\\\"\u003eexport\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003etype\u003c/span\u003e \u003cspan class=\\\"token class-name\\\"\u003eButtonForwardProps\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n  className\u003cspan class=\\\"token operator\\\"\u003e?\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e \u003cspan class=\\\"token builtin\\\"\u003estring\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Next, let's define the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Button\"]}],\" props. The union type forces the client code to\\nchoose between the default HTML \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"button\"]}],\" tag interface and the Function asChild\\ninterface. The \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"variant\"]}],\" prop is available in either case.\"]}],\"\\n\",[\"$\",\"pre\",\"174\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token keyword\\\"\u003eimport\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e ComponentProps\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e ReactElement \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003efrom\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"react\\\"\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003cspan class=\\\"token keyword\\\"\u003eimport\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e \u003cspan class=\\\"token constant\\\"\u003eU\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003efrom\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"ts-toolbelt\\\"\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\\n\u003cspan class=\\\"token keyword\\\"\u003eexport\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003etype\u003c/span\u003e \u003cspan class=\\\"token class-name\\\"\u003eButtonProps\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token constant\\\"\u003eU\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eStrict\u003cspan class=\\\"token operator\\\"\u003e\u0026lt;\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\\n    \u003cspan class=\\\"token operator\\\"\u003e|\u003c/span\u003e ComponentProps\u003cspan class=\\\"token operator\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e\\\"button\\\"\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e\\n    \u003cspan class=\\\"token operator\\\"\u003e|\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e \u003cspan class=\\\"token function-variable function\\\"\u003echildren\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003eforwardProps\u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e ForwardProps\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003e\u003c/span\u003e ReactElement \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n    variant\u003cspan class=\\\"token operator\\\"\u003e?\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"primary\\\"\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e|\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"secondary\\\"\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"After defining the prop types, the next step is to set up the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Button\"]}],\" as a\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://react.dev/reference/react/forwardRef\",\"children\":[\"ref-forwarding\"]}],\" function\\ncomponent. The ref forwarding is useful for the default case of a HTML\\n\",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003cbutton\u003e\"]}],\".\"]}],\"\\n\",[\"$\",\"pre\",\"178\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token keyword\\\"\u003eimport\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e ComponentType\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e forwardRef \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003efrom\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"react\\\"\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003cspan class=\\\"token keyword\\\"\u003eimport\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e \u003cspan class=\\\"token constant\\\"\u003eO\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003efrom\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"ts-toolbelt\\\"\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\\n\u003cspan class=\\\"token keyword\\\"\u003eexport\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003econst\u003c/span\u003e Button \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token generic-function\\\"\u003e\u003cspan class=\\\"token function\\\"\u003eforwardRef\u003c/span\u003e\u003cspan class=\\\"token generic class-name\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u0026lt;\u003c/span\u003eHTMLButtonElement\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token constant\\\"\u003eO\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eOmit\u003cspan class=\\\"token operator\\\"\u003e\u0026lt;\u003c/span\u003eButtonProps\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"ref\\\"\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\\n  \u003cspan class=\\\"token keyword\\\"\u003efunction\u003c/span\u003e \u003cspan class=\\\"token function\\\"\u003eButton\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\\n    \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e children\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e className \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"\\\"\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e variant \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"secondary\\\"\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e...\u003c/span\u003erestProps \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n    ref\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n    \u003cspan class=\\\"token comment\\\"\u003e// TODO\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003eas\u003c/span\u003e ComponentType\u003cspan class=\\\"token operator\\\"\u003e\u0026lt;\u003c/span\u003eButtonProps\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"The implementation begins with the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"forwardProps\"]}],\" object, which will include a\\ndynamic \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"className\"]}],\" based on the incoming \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"variant\"]}],\" prop value.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Then, it checks whether \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"children\"]}],\" is a render function:\"]}],\"\\n\",[\"$\",\"ol\",\"184\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":[\"If \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"children\"]}],\" is indeed a render function, it calls that function and passes\\nthe \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"forwardProps\"]}],\" as an argument. The result of the render function is then\\nreturned.\"]}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":[\"If \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"children\"]}],\" is not a render function, that means it contains the content of\\nthe button. In this case, the implementation returns a \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"\u003cbutton\u003e\"]}],\" element. It\\nspreads the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"forwardProps\"]}],\" first, followed by the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"restProps\"]}],\" (any HTML\\nbutton props that might have been provided). Finally, it ensures that the\\n\",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"ref\"]}],\" and \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"children\"]}],\" are forwarded properly.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"186\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token keyword\\\"\u003eimport\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e ComponentType\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e forwardRef \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003efrom\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"react\\\"\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003cspan class=\\\"token keyword\\\"\u003eimport\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e \u003cspan class=\\\"token constant\\\"\u003eO\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003efrom\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"ts-toolbelt\\\"\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\\n\u003cspan class=\\\"token keyword\\\"\u003eexport\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003econst\u003c/span\u003e Button \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token generic-function\\\"\u003e\u003cspan class=\\\"token function\\\"\u003eforwardRef\u003c/span\u003e\u003cspan class=\\\"token generic class-name\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u0026lt;\u003c/span\u003eHTMLButtonElement\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token constant\\\"\u003eO\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eOmit\u003cspan class=\\\"token operator\\\"\u003e\u0026lt;\u003c/span\u003eButtonProps\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"ref\\\"\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\\n  \u003cspan class=\\\"token keyword\\\"\u003efunction\u003c/span\u003e \u003cspan class=\\\"token function\\\"\u003eButton\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\\n    \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e children\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e className \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"\\\"\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e variant \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"secondary\\\"\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e...\u003c/span\u003erestProps \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n    ref\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n    \u003cspan class=\\\"token keyword\\\"\u003econst\u003c/span\u003e forwardProps\u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e ButtonForwardProps \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n      className\u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e \u003cspan class=\\\"token template-string\\\"\u003e\u003cspan class=\\\"token template-punctuation string\\\"\u003e`\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003ebutton button-\u003c/span\u003e\u003cspan class=\\\"token interpolation\\\"\u003e\u003cspan class=\\\"token interpolation-punctuation punctuation\\\"\u003e${\u003c/span\u003evariant\u003cspan class=\\\"token interpolation-punctuation punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e \u003c/span\u003e\u003cspan class=\\\"token interpolation\\\"\u003e\u003cspan class=\\\"token interpolation-punctuation punctuation\\\"\u003e${\u003c/span\u003eclassName\u003cspan class=\\\"token interpolation-punctuation punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token template-punctuation string\\\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n    \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\\n    \u003cspan class=\\\"token keyword\\\"\u003ereturn\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003etypeof\u003c/span\u003e children \u003cspan class=\\\"token operator\\\"\u003e===\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e\\\"function\\\"\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e?\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\\n      \u003cspan class=\\\"token function\\\"\u003echildren\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003eforwardProps\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n    \u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\\n      \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan class=\\\"token spread\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e...\u003c/span\u003eforwardProps\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token spread\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e...\u003c/span\u003erestProps\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eref\u003c/span\u003e\u003cspan class=\\\"token script language-javascript\\\"\u003e\u003cspan class=\\\"token script-punctuation punctuation\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003eref\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n        \u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003echildren\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n      \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n    \u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003eas\u003c/span\u003e ComponentType\u003cspan class=\\\"token operator\\\"\u003e\u0026lt;\u003c/span\u003eButtonProps\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"That's all it takes to implement the polymorphic \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Button\"]}],\" component!\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Due to a quirk of TypeScript, however, how you \",[\"$\",\"em\",\"1\",{\"children\":[\"use\"]}],\" the component can make a\\nsignificant difference in terms of type safety. So, to learn how to use it in\\nthe most effective way, read on.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"style\":{\"fontSize\":\"2em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.75em\"},\"id\":\"polymorphic-component-usage\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#polymorphic-component-usage\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Polymorphic component usage\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"At this point, we actually have a working polymorphic component. And here is how\\nmost people (myself included) would be inclined to use it:\"]}],\"\\n\",[\"$\",\"pre\",\"196\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003evariant\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003eprimary\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  \u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003eprops \u003cspan class=\\\"token operator\\\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\\n    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token spread\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e...\u003c/span\u003eprops\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n      Get started\\n    \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Unfortunately, TypeScript doesn't work as expected sometimes, and the prop\\nspread is one such case. Due to a long-standing\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://github.com/Microsoft/TypeScript/issues/29883\",\"children\":[\"issue\"]}],\", excess props\\ndon't produce a compiler error.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"You won't love the workaround, but hopefully you'll appreciate its effectiveness\\nin preventing prop forwarding mistakes.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"style\":{\"fontSize\":\"1.601em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.9369144284821986em\"},\"id\":\"avoiding-the-spread\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#avoiding-the-spread\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Avoiding the spread\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"When in doubt, the best way to cope with the prop spread's unsound nature is to\\navoid it entirely. That means fully destructuring the props and forwarding them\\nindividually.\"]}],\"\\n\",[\"$\",\"pre\",\"206\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003evariant\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003eprimary\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  \u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e className \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\\n    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclassName\u003c/span\u003e\u003cspan class=\\\"token script language-javascript\\\"\u003e\u003cspan class=\\\"token script-punctuation punctuation\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003eclassName\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n      Get started\\n    \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"But even this has its pitfalls:\"]}],\"\\n\",[\"$\",\"ol\",\"210\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[[\"$\",\"strong\",\"0\",{\"children\":[\"Forgotten props\"]}],\": It's easy to forget to destructure some of the props.\\nEven if you account for all of them initially, additional props could be\\nadded to the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"ButtonForwardProps\"]}],\" interface in the future.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[[\"$\",\"strong\",\"0\",{\"children\":[\"Unused props\"]}],\": Similarly, it's easy to forget to actually forward some of\\nthe props, even if you remembered to destructure them.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Fortunately, each of these problems has a solution.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"style\":{\"fontSize\":\"1.601em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.9369144284821986em\"},\"id\":\"exhaustiveness-check\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#exhaustiveness-check\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Exhaustiveness check\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Let's make a a small change by adding \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"...restProps\"]}],\" to the prop-destructuring\\nexpression.\"]}],\"\\n\",[\"$\",\"pre\",\"218\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003evariant\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003eprimary\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  \u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e className\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e...\u003c/span\u003erestProps \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\\n    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclassName\u003c/span\u003e\u003cspan class=\\\"token script language-javascript\\\"\u003e\u003cspan class=\\\"token script-punctuation punctuation\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003eclassName\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n      Get started\\n    \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"If you've destructured all of the props as intended, \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"restProps\"]}],\" will be an\\nempty object, i.e. \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"{}\"]}],\". You can assert this with the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"exhausted\"]}],\" function,\\nwhich produces a TypeScript error when called with a non-empty object.\"]}],\"\\n\",[\"$\",\"pre\",\"222\",{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"var(--fg-bright)\"},\"className\":\"language-tsx __className_89b63c\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003evariant\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003eprimary\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n  \u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e className\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e...\u003c/span\u003erestProps \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\\\"token function\\\"\u003eexhausted\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003erestProps\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\\n    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;\u003c/span\u003ea\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003ehref\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ehttps://react.dev\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclassName\u003c/span\u003e\u003cspan class=\\\"token script language-javascript\\\"\u003e\u003cspan class=\\\"token script-punctuation punctuation\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003eclassName\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n      Get started\\n    \u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003ea\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n  \u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token plain-text\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\\\"token class-name\\\"\u003eButton\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\\n\u003cspan class=\\\"token comment\\\"\u003e// Keep this somewhere like a `util.ts` module.\u003c/span\u003e\\n\u003cspan class=\\\"token keyword\\\"\u003efunction\u003c/span\u003e \u003cspan class=\\\"token function\\\"\u003eexhausted\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003ex\u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e Record\u003cspan class=\\\"token operator\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\\\"token builtin\\\"\u003eany\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token builtin\\\"\u003enever\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n  \u003cspan class=\\\"token keyword\\\"\u003ereturn\u003c/span\u003e \u003cspan class=\\\"token boolean\\\"\u003etrue\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003eas\u003c/span\u003e \u003cspan class=\\\"token keyword\\\"\u003econst\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\\n\"}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"For example, here's what happens if you forget about the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"className\"]}],\" prop:\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[[\"$\",\"img\",null,{\"src\":\"https://media.githubusercontent.com/media/nsaunders/writing/master/posts/function-aschild-intro/images/editor-help/not-exhausted.png\",\"alt\":\"A TypeScript error surfaced when the props are not fully destructured\",\"style\":{\"display\":\"block\",\"margin\":\"2em auto\",\"maxWidth\":\"100%\"},\"node\":{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"src\":\"images/editor-help/not-exhausted.png\",\"alt\":\"A TypeScript error surfaced when the props are not fully destructured\"},\"children\":[],\"position\":{\"start\":{\"line\":553,\"column\":1,\"offset\":19657},\"end\":{\"line\":553,\"column\":111,\"offset\":19767}}}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"As I mentioned earlier, it's still possible to destructure a prop and forget to\\nforward it. Next, I'll show you an additional measure to prevent this common\\nmistake.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"style\":{\"fontSize\":\"1.601em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.9369144284821986em\"},\"id\":\"unused-prop-check\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#unused-prop-check\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Unused prop check\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"In general, all of the props passed to a render function should actually be used\\nin some way; otherwise, aspects of the component's appearance or behavior might\\nbe lost. Since the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"exhausted\"]}],\" function already guarantees that the props object\\nis fully destructured, all that's left is to ensure that none of these props are\\nunused.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"For this, I simply recommend the ESLint rule\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://typescript-eslint.io/rules/no-unused-vars/\",\"children\":[[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"@typescript-eslint/no-unused-vars\"]}]]}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"With this rule enabled, here's what happens if you forget to forward the\\n\",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"className\"]}],\" prop:\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[[\"$\",\"img\",null,{\"src\":\"https://media.githubusercontent.com/media/nsaunders/writing/master/posts/function-aschild-intro/images/editor-help/unused-prop.png\",\"alt\":\"An ESLint error showing that one of the props is unused\",\"style\":{\"display\":\"block\",\"margin\":\"2em auto\",\"maxWidth\":\"100%\"},\"node\":{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"src\":\"images/editor-help/unused-prop.png\",\"alt\":\"An ESLint error showing that one of the props is unused\"},\"children\":[],\"position\":{\"start\":{\"line\":573,\"column\":1,\"offset\":20521},\"end\":{\"line\":573,\"column\":95,\"offset\":20615}}}}]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"If you aren't already using ESLint, see\\n\",[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://typescript-eslint.io/getting-started\",\"children\":[\"typescript-eslint's Getting Started guide\"]}],\"\\nfor more information on how to configure your project.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"style\":{\"fontSize\":\"2em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.75em\"},\"id\":\"interactive-demos\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#interactive-demos\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Interactive demos\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"I invite you to experience Function asChild through a couple of code demos I've\\nprepared:\"]}],\"\\n\",[\"$\",\"ul\",\"246\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":[[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://githubbox.com/nsaunders/writing/tree/master/posts/function-aschild-intro/sandboxes/function-aschild-button\",\"children\":[\"Polymorphic \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"Button\"]}]]}]]}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":[[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://githubbox.com/nsaunders/writing/tree/master/posts/function-aschild-intro/sandboxes/function-aschild-composition\",\"children\":[\"Multiple-component composition\"]}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"style\":{\"fontSize\":\"2em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.75em\"},\"id\":\"reviewing-the-solution\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#reviewing-the-solution\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Reviewing the solution\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Now that you've seen how to implement and use the Function asChild approach for\\npolymorphic components, let's consider its relative advantages:\"]}],\"\\n\",[\"$\",\"ol\",\"252\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Predictable TypeScript performance and type inference\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Prop collision avoidance\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"5\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"High degree of type safety\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"7\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Transparent prop forwarding scheme that you control\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"9\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Valid HTML output\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"11\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Ability to compose three or more components\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"13\",{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Loose coupling between components\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Compared to the \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" and \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" props, Function asChild offers a more\\nflexible and far safer approach to polymorphic components.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"style\":{\"fontSize\":\"2.4em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.625em\"},\"id\":\"wrapping-up\",\"className\":\" md-heading\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#wrapping-up\",\"className\":\"md-heading__anchor\",\"children\":[\"$\",\"div\",null,{\"className\":\"md-heading__anchor-icon\",\"children\":[\"$\",\"svg\",null,{\"width\":20,\"height\":20,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"aria-hidden\":\"$undefined\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",null,{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]]}]}]}],[\"Wrapping up\"]]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"Polymorphic components are extremely useful and, unfortunately, more complicated\\nthan I once realized. The \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"as\"]}],\" and \",[\"$\",\"code\",null,{\"className\":\"__className_89b63c\",\"style\":{\"color\":\"var(--fg-bright)\"},\"children\":[\"asChild\"]}],\" props, each in their own way, try\\nto make polymorphic components simpler than they actually are, and this is where\\ntheir problems begin.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"On the other hand, Function asChild hides nothing from you. It prioritizes\\nthoroughness and precision; while hopefully becoming more convenient in the\\nfuture as the TypeScript team improves type checking for prop spreads.\"]}],\"\\n\",[\"$\",\"p\",null,{\"style\":{\"lineHeight\":1.5,\"marginBlockStart\":\"1.5em\",\"marginBlockEnd\":\"1.5em\"},\"children\":[\"For now, selecting the right approach comes down to \\\"convenience\\\" versus\\n\",[\"$\",\"em\",\"1\",{\"children\":[\"correctness\"]}],\". If you've made it this far, I know you'll choose wisely.\"]}]]}],[\"$\",\"div\",null,{\"style\":{\"display\":\"flex\",\"gap\":\"0.5em\"},\"children\":[[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://twitter.com/search?q=https%3A%2F%2Fnsaunders.github.io%2Fposts%2Ffunction-aschild-intro\",\"children\":\"Discuss this post\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"var(--fg-muted)\"},\"children\":\"|\"}],[\"$\",\"a\",null,{\"style\":{\"textDecoration\":\"var(--focusVisible-1, none) var(--focusVisible-0, var(--hover-1, underline) var(--hover-0, none))\",\"outlineColor\":\"transparent\",\"outlineWidth\":2,\"outlineStyle\":\"dotted\",\"color\":\"var(--hover-1, var(--fg-link-bright)) var(--hover-0, var(--fg-link))\",\"borderRadius\":2,\"boxShadow\":\"var(--focusVisible-1, 0 0 0 2px var(--bg), 0 0 0 4px var(--blue-500)) var(--focusVisible-0, unset)\"},\"tabIndex\":\"$undefined\",\"href\":\"https://github.com/nsaunders/writing/edit/master/posts/function-aschild-intro/index.md\",\"children\":\"Suggest an edit\"}]]}]]}]],[\"$\",\"div\",null,{\"style\":{\"margin\":\"0 auto\",\"width\":\"calc(100vw - (var(--desktop) * 64px + var(--mobile) * 48px) * 2)\",\"maxWidth\":832,\"boxSizing\":\"border-box\",\"marginTop\":\"4em\"},\"children\":[\"$\",\"section\",null,{\"style\":{\"boxSizing\":\"border-box\",\"background\":\"var(--bg)\",\"color\":\"var(--fg)\",\"--bg\":\"var(--gray-200)\",\"--fg\":\"var(--black)\",\"--fg-muted\":\"var(--gray-500)\",\"--fg-bright\":\"var(--gold-500)\",\"--fg-success\":\"var(--green-600)\",\"--fg-error\":\"var(--red-600)\",\"--fg-link\":\"var(--blue-400)\",\"--fg-link-bright\":\"var(--blue-300)\",\"gap\":\"1em\",\"display\":\"grid\",\"gridTemplateColumns\":\"repeat(auto-fill, minmax(300px, 2fr))\"},\"children\":[[\"$\",\"div\",null,{\"style\":{\"boxSizing\":\"border-box\",\"background\":\"var(--bg)\",\"color\":\"var(--fg)\",\"--bg\":\"var(--gray-200)\",\"--fg\":\"var(--black)\",\"--fg-muted\":\"var(--gray-500)\",\"--fg-bright\":\"var(--gold-500)\",\"--fg-success\":\"var(--green-600)\",\"--fg-error\":\"var(--red-600)\",\"--fg-link\":\"var(--blue-400)\",\"--fg-link-bright\":\"var(--blue-300)\",\"padding\":\"3em\"},\"children\":[[\"$\",\"h1\",null,{\"style\":{\"fontSize\":\"2em\",\"fontWeight\":700,\"lineHeight\":1.25,\"marginBlock\":0},\"children\":\"Stay informed\"}],[\"$\",\"p\",null,{\"style\":{\"fontSize\":\"1.601em\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":\"0.9369144284821986em\"},\"children\":\"Subscribe to email updates and be the first to know when I post new content.\"}],[\"$\",\"p\",null,{\"style\":{\"fontSize\":\"1rem\",\"fontWeight\":400,\"lineHeight\":1.25,\"marginBlock\":0},\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"var(--fg-muted)\"},\"children\":[\"I hate spam as much as you do.\",[\"$\",\"br\",null,{}],\"Unsubscribe at any time\",\"—\",\"no hard feelings!\"]}]}]]}],[\"$\",\"$L13\",null,{}]]}]}]]}]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Function asChild — nsaunders.dev\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"The pitfalls of polymorphic components, and how I use a time-tested React design pattern to overcome them\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"Function asChild\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"The pitfalls of polymorphic components, and how I use a time-tested React design pattern to overcome them\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:image:type\",\"content\":\"image/png\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:image\",\"content\":\"https://nsaunders.github.io/posts/function-aschild-intro/opengraph-image?b01462bb4c0f2518\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:image:height\",\"content\":\"627\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"link\",\"12\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}],[\"$\",\"link\",\"13\",{\"rel\":\"icon\",\"href\":\"/icon?6881d3941c43d29d\",\"alt\":\"$undefined\",\"type\":\"image/png\",\"sizes\":\"32x32\"}]]\n"])</script></body></html>